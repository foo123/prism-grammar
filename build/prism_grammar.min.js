/**
*
*   PrismGrammar
*   @version: 2.2.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlighter for Prism
*   https://github.com/foo123/prism-grammar
*
**/!function(t,e,n){"use strict";var r,s="object"==typeof module&&module.exports,o="function"==typeof define&&define.amd;s?module.exports=(module.$deps=module.$deps||{})[e]=module.$deps[e]||n.call(t,{NODE:module})||1:o&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)?define(e,["require","exports","module"],function(e,r,s){return n.call(t,{AMD:s})}):e in t||(t[e]=r=n.call(t,{})||1)&&o&&define(e,[],function(){return r})}(this,"PrismGrammar",function(t){"use strict";function e(t,e){var n=this,r=n.pattern,s=t.s.charAt(t.pos)||null;return s&&r===s?(!1!==e&&t.mov(1),[n.key,s]):!1}function n(t,e){var n=this,r=n.pattern,s=t.s.charAt(t.pos)||null;return s&&-1<r.indexOf(s)?(!1!==e&&t.mov(1),[n.key,s]):!1}function r(t,e){var n=this,r=n.pattern,s=r.length,o=t.s;return r===o.substr(t.pos,s)?(!1!==e&&t.mov(s),[n.key,r]):!1}function s(t,e){var n,r=this,s=r.pattern,o=t.s;return n=o.slice(t.pos).match(s[0]),!n||n.index>0?!1:(!1!==e&&t.mov(n[s[1]||0].length),[r.key,s[1]>0?n[s[1]]:n])}function o(t,e){var n=this;return!1!==e&&t.end(),[n.key,""]}function l(t,e,n,r){var s=Me(e);if(ge===s)return e;if(r[t])return r[t];n=n||0;var o,l=0;return e&&e.isCharList&&(l=1,delete e.isCharList),o=qe&s?new ln(t,e,qe,n):be===s?new ln(t,e,be,n):ve&s?new ln(t,e,l?_e:ve,n):(Ee|xe)&s?new ln(t,e,Ee,n):e,r[t]=o}function u(t,e,n,r,s,o){if(o[t])return o[t];var i,a,c,p,f,h,m,g=0,k=0,d=1;if(i=Te(e),c=i.length,1===c)m=l(t,Je(i[0],n,s),0,o);else if(c>1){for(p=(c>>>1)+1,a=0;p>=a;a++)f=Me(i[a]),h=Me(i[c-1-a]),(be!==f||be!==h)&&(d=0),xe&f||xe&h?g=1:(Ee&f||Ee&h||Ye(i[a],n)||Ye(i[c-1-a],n))&&(k=1);if(!d||r&&ve&Me(r))if(!r||g||k)if(g||k){for(a=0;c>a;a++)i[a]=xe&Me(i[a])?u(t+"_"+a,i[a],n,r,s,o):l(t+"_"+a,Je(i[a],n,s),a,o);m=c>1?new an(t,i):i[0]}else{for(i=i.sort(Ke),a=0;c>a;a++)i[a]=l(t+"_"+a,Je(i[a],n,s),a,o);m=c>1?new an(t,i):i[0]}else m=l(t,We(i,r),0,o);else i=i.slice().join(""),i.isCharList=1,m=l(t,i,0,o)}return o[t]=m}function i(t,e,n,r,s){if(s[t])return s[t];var o,u,i,a,c,p,f;for(a=[],c=[],o=Ne(e),u=0,i=o.length;i>u;u++)p=l(t+"_0_"+u,Je(o[u][0],n,r),u,s),f=o[u].length>1?Ee!==p.ptype||ve!==Me(o[u][1])||Ye(o[u][1],n)?l(t+"_1_"+u,Je(o[u][1],n,r),u,s):o[u][1]:p,a.push(p),c.push(f);return s[t]=new un(t,[a,c])}function a(t,e){var n,r,s,o,l,u=Ne(t.tokens.slice());for(o=0,l=u.length;l>o;o++)n=u[o][0],r=u[o].length>1?u[o][1]:u[o][0],s=u[o].length>2?u[o][2]:"",null===r?(e.line=e.line||[],e.line.push(n)):(e.block=e.block||[],e.block.push([n,r,s]))}function c(t,e,n){var r=[].concat(Te(t.tokens)).map(function(t){return{word:t,meta:e}});n.autocomplete=(n.autocomplete||[]).concat(r)}function p(t,e,n,r){var s,o,l,u,i=t.pos,a=t.length,c="",p=!!n;if(p){for(r=!!r,o=!1,u=0;a>i&&(s=t.charAt(i++),e!==s||o);)l=n===s,o=!o&&l,r?(l&&u++,(!l||2&u)&&(c+=s,u=0)):c+=s;return 2&u&&(c+=n),t.pos=i,c}for(;a>i&&(s=t.charAt(i++),e!==s);)c+=s;return t.pos=i,c}function f(t,e,n){var r,s,o,l,u,i,a,c,f,h,m,g;if(i=new String(Be(t)),i.pos=0,1===i.length)h=""+t,e[h]||(e[h]={type:"simple",tokens:t}),t=h;else{for(r=[],s=[],o="",m=[];i.pos<i.length;)if(a=i.charAt(i.pos++),Qe.test(a))if(o.length&&("0"===o?s.push(G):"^^"===o?s.push(F):"^"===o?s.push(z):"$"===o?s.push(I):"$$"===o?s.push(V):(e[o]||n[o]||(e[o]={type:"simple",tokens:o}),s.push(o)),o=""),'"'===a||"'"===a)l=p(i,a,!1),l.length?(h=""+l,e[h]||(e[h]={type:"simple",tokens:l}),s.push(h)):s.push("");else if("/"===a)l=p(i,a,"\\",!0),c="",l.length&&(i.pos<i.length&&"i"===i.charAt(i.pos)&&(i.pos++,c="i"),h="/"+l+"/"+c,e[h]||(e[h]={type:"simple",tokens:new RegExp("^("+l+")",c)}),s.push(h));else if("*"===a||"+"===a||"?"===a)f=s.pop(),h=""+f+a,n[h]||(n[h]={type:"group",match:"*"===a?"zeroOrMore":"+"===a?"oneOrMore":"zeroOrOne",tokens:[f]}),s.push(h);else if("{"===a)u=p(i,"}",!1),u=u.split(",").map(Be),u[0]=u[0].length?parseInt(u[0],10)||0:0,0>u[0]&&(u[0]=0),2>u.length?u.push(u[0]):u[1]=u[1].length?parseInt(u[1],10)||O:O,0>u[1]&&(u[1]=0),f=s.pop(),h=""+f+["{",u[0],",",isFinite(u[1])?u[1]:"","}"].join(""),n[h]||(n[h]={type:"group",match:[u[0],u[1]],tokens:[f]}),s.push(h);else{if("}"===a)continue;if("["===a)l=p(i,"]",!1),h="["+l+"]",e[h]||(e[h]={type:"simple",tokens:l.split("")}),s.push(h);else{if("]"===a)continue;"|"===a?(s.length>1?(h=""+s.join(" "),n[h]||(n[h]={type:"group",match:"sequence",tokens:s}),r.push(h)):s.length&&r.push(s[0]),s=[]):"("===a?(m.push([s,r,o]),s=[],r=[],o=""):")"===a&&(s.length>1?(h=""+s.join(" "),n[h]||(n[h]={type:"group",match:"sequence",tokens:s}),r.push(h)):s.length&&r.push(s[0]),s=[],r.length>1?(h=""+r.join(" | "),n[h]||(n[h]={type:"group",match:"either",tokens:r})):r.length&&(h=r[0]),r=[],g=m.pop(),s=g[0],r=g[1],o=g[2],f=h,h="("+f+")",n[h]||(n[h]=Fe(e[f]||n[f])),s.push(h))}}else o+=a;o.length&&("0"===o?s.push(G):"^^"===o?s.push(F):"^"===o?s.push(z):"$"===o?s.push(I):"$$"===o?s.push(V):(e[o]||n[o]||(e[o]={type:"simple",tokens:o}),s.push(o))),o="",s.length>1?(h=""+s.join(" "),n[h]||(n[h]={type:"group",match:"sequence",tokens:s}),r.push(h)):s.length&&r.push(s[0]),s=[],r.length>1?(h=""+r.join(" | "),n[h]||(n[h]={type:"group",match:"either",tokens:r}),t=h):r.length&&(t=r[0]),r=[]}return t}function h(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var e,n,r,s,o,l,u,i,a,c=t.Lex,p=t.Syntax,f=[c,p],h=f.length;for(a=0;h>a;){i=f[a++];for(r in i)i[pe](r)&&(e=r.split(":"),n=e[1]&&Be(e[1]).length?Be(e[1]):null,e=Be(e[0]),e.length||(e=r,n=null),e!==r&&(i[e]=i[r],delete i[r],n&&(s=i[e],o=Me(s),$e===o?i[e].type||(i[e].type=n):(i[e]={type:n},"action"===n&&ve===o?i[e][s]=!0:i[e].tokens=s))),c===i&&Re&Me(i[e])&&(i[e]={type:"simple",tokens:i[e]}))}i=c;for(e in i)if(i[pe](e))for(s=i[e];s.extend;)l=s.extend,u=c[l],delete s.extend,u&&(Re&Me(u)&&(u=c[l]={type:"simple",tokens:u}),s=Ve(u,s));for(a=0;h>a;){i=f[a++];for(e in i)i[pe](e)&&(s=i[e],$e===Me(s)&&"undefined"==typeof s.type&&(s[pe]("error")?(s.type="action",s.action=["error",s.error,!!s["in-context"]],delete s.error):s[pe]("context-start")?(s.type="action",s.action=["context-start",s["context-start"],!!s["in-context"]],delete s["context-start"]):s[pe]("context-end")?(s.type="action",s.action=["context-end",s["context-end"],!!s["in-context"]],delete s["context-end"]):s[pe]("empty")?(s.type="action",s.action=["empty",s.empty,!!s["in-context"]],delete s.empty):s[pe]("indent")?(s.type="action",s.action=["indent",s.indent,!!s["in-context"]],delete s.indent):s[pe]("outdent")?(s.type="action",s.action=["outdent",s.outdent,!!s["in-context"]],delete s.outdent):s[pe]("unique")?(s.type="action",s.action=["unique",ve&Me(s.unique)?["_DEFAULT_",s.unique]:s.unique,!!s["in-context"]],delete s.unique):s[pe]("push")?(s.type="action",s.action=["push",s.push,!!s["in-context"]],delete s.push):s[pe]("pop")?(s.type="action",s.action=["pop",s.pop,!!s["in-context"]],delete s.pop):s.sequence||s.all?(s.type="group",s.match="sequence",s.tokens=s.sequence||s.all,s.all?delete s.all:delete s.sequence):s.either?(s.type="group",s.match="either",s.tokens=s.either,delete s.either):s.zeroOrMore?(s.type="group",s.match="zeroOrMore",s.tokens=s.zeroOrMore,delete s.zeroOrMore):s.oneOrMore?(s.type="group",s.match="oneOrMore",s.tokens=s.oneOrMore,delete s.oneOrMore):s.zeroOrOne?(s.type="group",s.match="zeroOrOne",s.tokens=s.zeroOrOne,delete s.zeroOrOne):s.comment?(s.type="comment",s.tokens=s.comment,delete s.comment):s.block?(s.type="block",s.tokens=s.block,delete s.block):s["escaped-block"]?(s.type="escaped-block",s.tokens=s["escaped-block"],delete s["escaped-block"]):s.simple?(s.type="simple",s.tokens=s.simple,delete s.simple):s.type="simple"),"simple"===s.type?s.autocomplete=!!s.autocomplete:("block"===s.type||"escaped-block"===s.type||"comment"===s.type)&&(s.multiline=s[pe]("multiline")?!!s.multiline:!0,"escaped-block"===s.type&&(s.escape=s[pe]("escape")?s.escape:"\\")))}return t}function m(t,e,n,r,s,o,l,p,h,g,k){var d,y,v,b,_,x,$,w,E,L,T,N,U,H,W,oe=null;if(W=null,F===t)return new cn(F,F,t,W);if(z===t)return new cn(z,z,t,W);if(I===t||null===t)return new cn(I,I,t,W);if(V===t)return new cn(V,V,t,W);if(""===t)return new cn(B,"NONSPACE",t,W);if(!1===t||0===t)return new cn(G,"EMPTY",t,W);if(xe&Me(t)&&(H=t,t="NGRAM_"+H.join("_"),r[t]||(r[t]={type:"ngram",tokens:H})),t=""+t,p[t])return p[t];if(d=n[t]||r[t]||t,ve&Me(d)&&(d=f(d,n,r),d=n[d]||r[d]||null),!d)return null;if(y=d.type?ie[d.type.toUpperCase().replace(He,"")]:K,W=d.msg||null,K&y){if(F===d.tokens)return oe=new cn(F,t,t,W),p[t]=oe,oe;if(z===d.tokens)return oe=new cn(z,t,t,W),p[t]=oe,oe;if(I===d.tokens||null===d.tokens)return oe=new cn(I,t,t,W),p[t]=oe,oe;if(V===d.tokens)return oe=new cn(V,t,t,W),p[t]=oe,oe;if(""===d.tokens)return oe=new cn(B,t,t,W),p[t]=oe,oe;if(!1===d.tokens||0===d.tokens)return oe=new cn(G,t,t,W),p[t]=oe,oe;if(!d.tokens)return null}if(le&y||(d.tokens=Te(d.tokens)),le&y)d[pe]("action")?"error"===d.action[0]?d.action[0]=q:"context-start"===d.action[0]?d.action[0]=P:"context-end"===d.action[0]?d.action[0]=D:"empty"===d.action[0]?d.action[0]=R:"indent"===d.action[0]?d.action[0]=j:"outdent"===d.action[0]?d.action[0]=M:"unique"===d.action[0]?d.action[0]=S:"push"===d.action[0]?d.action[0]=C:"pop"===d.action[0]&&(d.action[0]=A):d[pe]("error")?d.action=[q,d.error,!!d["in-context"]]:d[pe]("context-start")?d.action=[P,d["context-start"],!!d["in-context"]]:d[pe]("context-end")?d.action=[D,d["context-end"],!!d["in-context"]]:d[pe]("empty")?d.action=[R,d.empty,!!d["in-context"]]:d[pe]("indent")?d.action=[j,d.indent,!!d["in-context"]]:d[pe]("outdent")?d.action=[M,d.outdent,!!d["in-context"]]:d[pe]("unique")?d.action=[S,ve&Me(d.unique)?["_DEFAULT_",d.unique]:d.unique,!!d["in-context"]]:d[pe]("push")?d.action=[C,d.push,!!d["in-context"]]:d[pe]("pop")&&(d.action=[A,d.pop,!!d["in-context"]]),b=d.action.slice(),oe=new pn(le,t,b,W),p[t]=oe;else if(K&y)d.autocomplete&&c(d,t,k),v="undefined"==typeof d.combine?"\\b":d.combine,oe=new cn(K,t,u(t,d.tokens.slice(),e,v,o,l),W),p[t]=oe;else if(Z&y)Q&y&&a(d,g),oe=new fn(y,t,i(t,d.tokens.slice(),e,o,l),W,d.multiline,d.escape,s[t+".inside"]?1:0),p[t]=oe,d.interleave&&h.push(oe.clone());else if(re&y){for(x=d.tokens.slice(),xe&Me(d.match)?oe=new hn(X,t,null,W,d.match[0],d.match[1]):(_=ue[d.match.toUpperCase()],oe=te===_?new hn(te,t,null,W,0,1):ee===_?new hn(ee,t,null,W,0,O):ne===_?new hn(ne,t,null,W,1,O):Y&_?new hn(Y,t,null,W):new hn(J,t,null,W)),p[t]=oe,$=[],L=0,T=x.length;T>L;L++)$=$.concat(m(x[L],e,n,r,s,o,l,p,h,g,k));oe.set($)}else if(se&y){for(oe=Ne(d.tokens.slice()).slice(),w=[],L=0,T=oe.length;T>L;L++)w[L]=oe[L].slice(),oe[L]=new hn(se,t+"_NGRAM_"+L,null,W);for(p[t]=oe,L=0,T=oe.length;T>L;L++){for(E=w[L],$=[],N=0,U=E.length;U>N;N++)$=$.concat(m(E[N],e,n,r,s,o,l,p,h,g,k));oe[L].set($)}}return p[t]}function g(t){var e,n,r,s,o,l,u,i,a,c,p,f,g,k,d,y,v;if(t.__parsed)return t;for(f={},g={},k={},y={},v={},d=[],e=t.RegExpID||null,o=Fe(t.Extra||{}),l=Fe(t.Style||{}),u=Fe(t.Lex||{}),i=Fe(t.Syntax||{}),s=Fe(t.Parser||[]),t={Style:l,Lex:u,Syntax:i,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:o,__parsed:0},h(t),r=s.length,n=[],a=0;r>a;a++)c=s[a],p=m(c,e,u,i,l,f,g,k,d,y,v)||null,p&&(xe&Me(p)?n=n.concat(p):n.push(p));return t.$parser=n,t.$interleaved=d&&d.length?d:null,t.$comments=y,t.$autocomplete=v&&v.autocomplete&&v.autocomplete.length?v.autocomplete:null,t.__parsed=1,t}function k(t){var e,n=new kn(g(t),{DEFAULT:d,ERROR:y}),r=0,s=null,o={"before-highlight":function(t){s===t.language&&(t._code=t.code,t.code="")},"before-insert":function(t){s===t.language&&(t.code=t._code,t._code="",t.highlightedCode=e.Token.stringify(n.parse(t.code,v|b).tokens,t.language))}};return{hook:function(t,n){if(!r){e=t,s=n;for(var l in o)o[pe](l)&&e.hooks.add(l,o[l]);r=1}},unhook:function(){if(r){var t,n,l=e.hooks.all;for(t in o)l[pe](t)&&o[pe](t)&&(n=l[t].indexOf(o[t]),n>-1&&l[t].splice(n,1));r=0,s=null,e=null}}}}var d,y,v=1,b=2,_=4,x=8,$=~_,w=~x,E=_|x,O=1/0,q=4,S=8,C=16,A=32,R=64,j=128,M=256,P=512,D=1024,L=2,T=4,N=8,F=4,V=8,z=16,I=32,U=F|z,G=64,B=128,K=256,Z=512,H=513,Q=514,Y=1024,J=2048,W=J,X=4096,te=4097,ee=4098,ne=4099,re=8192,se=16384,oe=J|se,le=32768,ue={EITHER:Y,ALL:W,SEQUENCE:J,ZEROORONE:te,ZEROORMORE:ee,ONEORMORE:ne,REPEATED:X},ie={ACTION:le,BLOCK:Z,COMMENT:Q,ESCAPEDBLOCK:H,SIMPLE:K,GROUP:re,NGRAM:se},ae=void 0,ce="prototype",pe="hasOwnProperty",fe="propertyIsEnumerable",he=(Object.keys,Array[ce],Object[ce]),me=(Function[ce],he.toString),ge=4,ke=5,de=6,ye=8,ve=16,be=17,_e=18,xe=32,$e=64,we=128,Ee=256,Oe=512,qe=1024,Se=2048,Ce=4096,Ae=ve|xe,Re=ve|xe|Ee,je={"[object Number]":ge,"[object String]":ve,"[object Array]":xe,"[object RegExp]":Ee,"[object Date]":Oe,"[object Function]":we,"[object Object]":$e},Me=function(t){if(null===t)return qe;if(!0===t||!1===t||t instanceof Boolean)return ye;if(ae===t)return Se;var e=je[me.call(t)]||Ce;return ge===e||t instanceof Number?isNaN(t)?de:isFinite(t)?ge:ke:ve===e||t instanceof String?1===t.length?be:ve:xe===e||t instanceof Array?xe:Ee===e||t instanceof RegExp?Ee:Oe===e||t instanceof Date?Oe:we===e||t instanceof Function?we:$e===e?$e:Ce},Pe=function(){var t,e,n,r,s,o,l=arguments,u=l.length;for(t=l[0]||{},s=1;u>s;s++)if(e=l[s],$e===Me(e))for(r in e)e[pe](r)&&e[fe](r)&&(n=e[r],o=Me(n),t[r]=ge&o?0+n:Oe&o?new Date(n):Ae&o?n.slice():n);return t},De=Object.create,Le=function(t,e){var n,r=arguments.length,s="constructor";return 0===r?(t=Object,e={}):1===r?(e=t||{},t=Object):(t=t||Object,e=e||{}),e[pe](s)||(e[s]=function(){}),n=e[s],delete e[s],n[ce]=Pe(De(t[ce]),e),n[ce][s]=n,n},Te=function(t,e){return e||xe!==Me(t)?[t]:t},Ne=function(t,e){return t=Te(t),(e||xe!==Me(t[0]))&&(t=[t]),t},Fe=function(t,e){var n,r,s,o,l=Me(t),u=0;if(ge===Me(e)?e>0?(u=e,e=!0):e=!1:e=!1!==e,$e===l){r={};for(s in t)t[pe](s)&&t[fe](s)&&(n=Me(t[s]),r[s]=$e===n?e?Fe(t[s],u>0?u-1:e):t[s]:xe===n?e?Fe(t[s],u>0?u-1:e):t[s].slice():Oe&n?new Date(t[s]):ve&n?t[s].slice():ge&n?0+t[s]:t[s])}else if(xe===l)for(o=t.length,r=new Array(o),s=0;o>s;s++)n=Me(t[s]),r[s]=$e===n?e?Fe(t[s],u>0?u-1:e):t[s]:xe===n?e?Fe(t[s],u>0?u-1:e):t[s].slice():Oe&n?new Date(t[s]):ve&n?t[s].slice():ge&n?0+t[s]:t[s];else r=Oe&l?new Date(t):ve&l?t.slice():ge&l?0+t:t;return r},Ve=function(){var t,e,n,r,s,o,l,u,i,a,c=arguments,p=c.length;if(1>p)return null;for(e=Fe(c[0]),n=1;p>n;n++)if(t=c[n])for(r in t)if(t[pe](r)&&t[fe](r))if(e[pe](r)&&e[fe](r)){if(i=Me(e[r]),a=Me(t[r]),$e===i&&$e===a)e[r]=Ve(e[r],t[r]);else if(xe===i&&xe===a){if(l=e[r],u=t[r],o=u.length,!o)continue;if(l.length)for(s=0;o>s;s++)0>l.indexOf(u[s])&&l.push(u[s]);else e[r]=u.slice()}}else e[r]=Fe(t[r]);return e},ze=/([.*+?^${}()|[\]\/\\\-])/g,Ie=function(t){return t.replace(ze,"\\$1")},Ue=function(t,e,n){var r,s,o,l,u,i=!0===n?0:1;for(ve&Me(e)&&(e=[e,e],i=0),s=t.length,u="",r=0;s>r;)o=t.charAt(r),s>r+1&&"$"===o?(l=t.charCodeAt(r+1),36===l?(u+="$",r+=2):l>=48&&57>=l?(u+=e[i+l-48]||"",r+=2):(u+=o,r+=1)):(u+=o,r+=1);return u},Ge=/^\s+|\s+$/g,Be=String[ce].trim?function(t){return t.trim()}:function(t){return t.replace(Ge,"")},Ke=function(t,e){return e.length-t.length},Ze=/\r\n|\r|\n/g,He=/[\-_]/g,Qe=/^([\[\]{}()*+?\/|'"]|\s)/,Ye=function(t,e){return ve&Me(e)&&ve&Me(t)&&e.length&&e.length<=t.length&&e==t.substr(0,e.length)},Je=function(t,e,n){if(!t||(ge|Ee)&Me(t))return t;var r,s=e?e.length||0:0;if(s&&e===t.substr(0,s)){var o,l,u,r,i,a=t.substr(s),c=a.charAt(0),p="";for(r=a.length;r--&&(i=a.charAt(r),c!==i);)"i"===i.toLowerCase()&&(p="i");return o=a.substring(1,r),l="^("+o+")",n[l]||(u=new RegExp(l,p),n[l]=u),n[l]}return t},We=function(t,e){var n,r="";return ve&Me(e)&&(r=e),n=t.sort(Ke).map(Ie).join("|"),[new RegExp("^("+n+")"+r),1]},Xe=0,tn=function(){return++Xe},en=function(t){return[t||"uuid",++Xe,(new Date).getTime()].join("_")},nn=Math.max,rn=/^[\s\u00a0]+/,sn=/[^\s\u00a0]/,on=Le({constructor:function(t){var e=this;e._=null,e.s=t?""+t:"",e.start=e.pos=0,e.lCP=e.lCV=0,e.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var t=this;return t._=null,t.s=null,t.start=null,t.pos=null,t.lCP=null,t.lCV=null,t.lS=null,t},toString:function(){return this.s},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},end:function(){var t=this;return t.pos=t.s.length,t},mov:function(t){var e=this;return 0>t?e.pos=nn(0,e.pos-t):e.pos+=t,e},bck:function(t){var e=this;return e.pos=nn(0,t),e},sft:function(){var t=this;return t.start=t.pos,t},nxt:function(){var t,e=this,n=e.s;return e.pos<n.length?t=n.charAt(e.pos++)||null:void 0},cur:function(t){var e=this,n=e.s.slice(e.start,e.pos);return t&&(e.start=e.pos),n},upd:function(){var t=this;return t._&&(t._.pos=t.pos),t},spc:function(t){var e,n=this,r=n.pos,s=n.s.slice(r);return(e=s.match(rn))?(!1!==t&&n.mov(e[0].length),1):0},col:function(t){var e=this;return t=t||1,e.lCP<e.start&&(e.lCV=on.col(e.s,e.start,t,e.lCP,e.lCV),e.lCP=e.start,e._&&(e._.start=e.start,e._.lastColumnPos=e.lCP,e._.lastColumnValue=e.lCV,e._.lineStart=e.lS)),e.lCV-(e.lS?on.col(e.s,e.lS,t):0)},ind:function(t){var e=this;return t=t||1,on.col(e.s,null,t)-(e.lS?on.col(e.s,e.lS,t):0)}});on.col=function(t,e,n,r,s){var o,l;for(null===e&&(e=t.search(sn),-1==e&&(e=t.length)),o=r||0,l=s||0;e>o;++o)l+="	"==t.charAt(o)?n-l%n:1;return l},on._=function(t){var e=new on;return e._=t,e.s=""+t.string,e.start=t.start,e.pos=t.pos,e.lCP=t.lastColumnPos,e.lCV=t.lastColumnValue,e.lS=t.lineStart,e};var ln,un,an,cn,pn,fn,hn,mn=Le({constructor:function(t){this._=t||[]},_:null,dispose:function(){var t=this;return t._=null,t},toString:function(){return this._.slice().reverse().join("\n")},clone:function(){return new mn(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(t){var e=this,n=e._;if(t=arguments.length?t:-1,n.length){if(0>t&&0<=n.length+t)return n[n.length+t];if(t>=0&&t<n.length)return n[t]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(t){var e=this;return e._.push(t),e},unshift:function(t){var e=this;return e._.unshift(t),e},pushAt:function(t,e,n,r){var s=this,o=s._;return n&&r&&(e[n]=r),t<o.length?o.splice(t,0,e):o.push(e),s},empty:function(t,e){var n=this,r=n._;if(t&&e)for(;r.length&&r[r.length-1]&&r[r.length-1][t]===e;)r.pop();else r.length=0;return n}}),gn=Le({constructor:function dn(t,e,n){var r=this;r.id=e?en("state"):"state",t instanceof dn?(r.line=t.line,r.status=t.status,r.stack=t.stack.clone(),r.token=t.token,r.block=t.block,r.status&b?(r.queu=t.queu,r.symb=t.symb,r.ctx=t.ctx,r.err=t.err):(r.queu=null,r.symb=null,r.ctx=null,r.err=null)):(r.line=t||0,r.status=n||0,r.stack=new mn,r.token=null,r.block=null,r.status&b?(r.queu=[],r.symb={},r.ctx=[],r.err={}):(r.queu=null,r.symb=null,r.ctx=null,r.err=null))},id:null,line:0,status:0,token:null,block:null,stack:null,queu:null,symb:null,ctx:null,err:null,dispose:function(){var t=this;return t.id=null,t.line=null,t.status=null,t.stack&&t.stack.dispose(),t.stack=null,t.token=null,t.block=null,t.queu=null,t.symb=null,t.ctx=null,t.err=null,t},clone:function(t){return new gn(this,t)},toString:function(){var t=this;return[t.id,t.line,t.token?t.token.name:"0",t.block?t.block.name:"0"].join("_")}});ln=Le({constructor:function(t,l,u,i){var a=this;switch(a.type=L,a.name=t,a.pattern=null,a.ptype=u||ve,a.key=i||0,a.ptype){case qe:a.pattern=null,a.match=o;break;case Ee:a.pattern=Ee&Me(l)?[l,0]:[l[0],l[1]||0],a.match=s;break;case be:case _e:a.pattern=l,a.match=_e===a.ptype?n:e;break;case ve:default:a.pattern=l,a.match=r}},type:null,name:null,pattern:null,ptype:null,key:0,dispose:function(){var t=this;return t.type=null,t.name=null,t.pattern=null,t.ptype=null,t.key=null,t},match:function(){return!1},toString:function(){var t=this;return["[","Pattern: ",t.name,", ",t.pattern?t.pattern.toString():null,"]"].join("")}}),an=Le(ln,{constructor:function(t,e,n){var r=this;r.type=T,r.name=t,r.pattern=e,r.key=!1!==n},match:function(t,e){var n,r,s=this,o=s.pattern,l=o.length,u=s.key;for(n=0;l>n;n++)if(r=o[n].match(t,e))return u?[n,r[1]]:r;return!1}}),un=Le(ln,{constructor:function(t,e){var n=this;n.type=N,n.name=t,n.pattern=e,n.pattern[0]=new an(n.name+"_Start",n.pattern[0],!1)},match:function(t,e){var n,r,s,o,l,u=this,i=u.pattern,a=i[0],c=i[1];return(r=a.match(t,e))?(n=c[r[0]],o=Me(n),l=a.pattern[r[0]].ptype,Ee===l&&(ge===o?(s=r[1][n+1],n=new ln(u.name+"_End",s,s.length>1?ve:be)):ve===o&&(s=Ue(n,r[1]),n=new ln(u.name+"_End",s,s.length>1?ve:be))),n):!1}}),cn=Le({constructor:function(t,e,n,r){var s=this;s.type=t||K,s.name=e,s.token=n,s.status=0,s.msg=r||null,s.$msg=null,s.$clone=null,F===s.name?s.name="<start-of-file>":z===s.name?s.name="<start-of-line>":I===s.name?s.name="<end-of-line>":V===s.name?s.name="<end-of-file>":G===s.name?s.name="<empty>":B===s.name&&(s.name="<nonspace>")},name:null,type:null,token:null,status:0,msg:null,$msg:null,$clone:null,$id:null,dispose:function(){var t=this;return t.type=null,t.name=null,t.token=null,t.status=null,t.msg=null,t.$msg=null,t.$clone=null,t.$id=null,t},clone:function(){var t,e,n,r=this,s=r.$clone;if(t=new r.constructor,t.type=r.type,t.name=r.name,t.token=r.token,t.msg=r.msg,s&&s.length)for(e=0,n=s.length;n>e;e++)t[s[e]]=r[s[e]];return t},get:function(t,e){var n=this,r=n.token,s=n.type,o=n.name,l=null;if(n.$msg=n.msg||null,e.token=null,F===s){if(F&e.status&&t.sol())return!0}else if(z===s){if(t.sol())return!0}else if(I===s){if(t.spc(),t.eol())return o}else if(V===s){if(t.spc(),t.eol())return!0}else{if(G===s)return n.status=0,!0;if(B===s)n.status&_&&t.spc()&&!t.eol()&&(n.status|=x),n.status&=$;else if(l=r.match(t))return e.token={name:o,value:t.cur(),token:l[1]},o}return n.status&&n.$msg&&(n.$msg=Ue(n.$msg,o,!0)),!1},req:function(t){var e=this;return t?e.status|=_:e.status&=$,e},err:function(t,e,n,r,s){var o,l=this,u=l.name;return o=l.$msg?l.$msg:l.status&_?'Token "'+u+'" Expected':'Syntax Error: "'+u+'"',t&&t.status&b&&(t.err[e+"_"+n+"_"+r+"_"+s+"_"+u]=[e,n,r,s,o]),o},toString:function(){var t=this;return["[","Token: ",t.name,", ",t.token?t.token.toString():null,"]"].join("")}}),pn=Le(cn,{constructor:function(t,e,n,r){var s=this;s.type=t||le,s.name=e,s.token=n,s.status=0,s.msg=r||null,s.$msg=null,s.$clone=null},get:function(t,e){var n,r,s,o,l,u,i,a,c,p,f,h=this,m=h.token||null,g=e.queu,k=e.symb,d=e.ctx,y=e.token,v=e.err,_=!!(e.status&b);if(h.status=0,h.$msg=null,!m||!_)return!0;if(l=h.msg,n=m[0],r=m[1],c=!!m[2],u=e.line,a=t.pos,i=y&&y.value?a-y.value.length:i-1,q===n)return h.$msg=l?l:"Error",p=u+"_"+i+"_"+u+"_"+a+"_"+h.name,v[p]=[u,i,u,a,h.err()],h.status|=x,!1;if(P===n)d.unshift({symb:{},queu:[]});else if(D===n)d.length&&d.shift();else if(R===n)c?d.length&&(d[0].queu.length=0):g.length=0;else if(S===n){if(c){if(!d.length)return!0;k=d[0].symb}if(y){if(s=r[1],o=r[0],s=ge===Me(s)?y.token[s]:Ue(s,y.token,!0),k[pe](o)||(k[o]={}),k[o][pe](s))return h.$msg=l?Ue(l,s,!0):'Duplicate "'+s+'"',f=h.err(),p=k[o][s][0]+"_"+k[o][s][1]+"_"+k[o][s][2]+"_"+k[o][s][3]+"_"+h.name,v[p]=[k[o][s][0],k[o][s][1],k[o][s][2],k[o][s][3],f],p=u+"_"+i+"_"+u+"_"+a+"_"+h.name,v[p]=[u,i,u,a,f],h.status|=x,!1;k[o][s]=[u,i,u,a]}}else if(A===n){if(c){if(!d.length)return!0;g=d[0].queu}if(r){if(y&&(r=ge===Me(r)?y.token[r]:Ue(r,y.token)),!g.length||r!==g[0][0])return g.length?(h.$msg=l?Ue(l,[g[0][0],r],!0):'Tokens do not match "'+g[0][0]+'","'+r+'"',f=h.err(),p=g[0][1]+"_"+g[0][2]+"_"+g[0][3]+"_"+g[0][4]+"_"+h.name,v[p]=[g[0][1],g[0][2],g[0][3],g[0][4],f],p=u+"_"+i+"_"+u+"_"+a+"_"+h.name,v[p]=[u,i,u,a,f]):(h.$msg=l?Ue(l,["",r],!0):'Token does not match "'+r+'"',f=h.err(),p=u+"_"+i+"_"+u+"_"+a+"_"+h.name,v[p]=[u,i,u,a,f]),g.shift(),h.status|=x,!1;g.shift()}else g.shift()}else if(C===n&&r){if(c){if(!d.length)return!0;g=d[0].queu}y&&(r=ge===Me(r)?y.token[r]:Ue(r,y.token)),g.unshift([r,u,i,u,a])}return!0}}),fn=Le(cn,{constructor:function(t,e,n,r,s,o,l){var u=this;u.type=t,u.name=e,u.token=n,u.status=0,u.msg=r||null,u.mline="undefined"==typeof s?1:s,u.esc=o||"\\",u.inter=l,u.$msg=null,u.$clone=["mline","esc","inter"]},inter:0,mline:0,esc:null,get:function(t,e){var n,r,s,o,l,u,i,a,c,p,f,h,m,g,k=this,d=0,y=0,v="",b=k.mline,_=k.token,x=k.name,w=k.type,E=k.inter,O=E?x+".inside":x,q=0,S=H===w,C=k.esc,A="",R="",j="",M="",P=e.stack;if(k.$msg=k.msg||null,m=e.line,g=t.pos,Q===w&&(k.status&=$),l=0,e.block&&e.block.name===x?(y=1,n=e.block.end,l=1,u=O,p=e.block.s,h=e.block.i,f=e.block.e,A=e.block._s,R=e.block._i,M=""):!e.block&&(n=_.match(t))&&(y=1,p=[m,g],h=[[m,t.pos],[m,t.pos]],f=[m,t.pos],A=t.cur(),R="",M="",j="",e.block={name:x,end:n,s:p,i:h,e:f,_s:A,_i:R,_e:j},u=x),y){if(s=P.pos(),o=qe===n.type,E){if(l&&o&&t.sol())return k.status&=$,e.current=null,e.block=null,!1;if(!l)return P.pushAt(s,k.clone(),"$id",x),u}if(d=n.match(t),r=b,c=0,d)u=o?O:x,j=t.cur().slice(M.length);else for(a=t.pos;!t.eol();){if(i=t.pos,!(S&&q||!n.match(t))){E&&t.pos>i&&i>a?(u=O,t.bck(i),c=1):(u=x,d=1),j=t.cur().slice(M.length);break}v=t.nxt(),M+=v,q=!q&&v===C}return r=b||S&&q,h[1]=[m,i],f=[m,t.pos],d||!r&&!c?e.block=null:(e.block.i=h,e.block.e=f,e.block._i+=M,e.block._e=j,e.stack.pushAt(s,k.clone(),"$id",x)),e.token={name:x,value:t.cur(),token:[A+R+M+j,R+M,A,j]},u}return k.status&&k.$msg&&(k.$msg=Ue(k.$msg,x,!0)),!1}}),hn=Le(cn,{constructor:function(t,e,n,r,s,o){var l=this;l.type=t?t:X,l.name=e||null,l.token=null,l.status=0,l.msg=r||null,l.min=s||0,l.max=o||O,l.found=0,l.$msg=null,l.$clone=["min","max","found"],n&&l.set(n)},min:0,max:1,found:0,set:function(t){return t&&(this.token=Te(t)),this},get:function(t,e){var n,r,s,o,l,u,i,a,c,p,f,h,m,g,k,d=this,y=d.type,v=d.token,b=v.length;if(d.$msg=d.msg||null,d.status&=w,h=t.pos,l=e.stack,Y===y){for(p=0,f=0,d.status|=_,u=[],n=0;b>n;n++){if(s=v[n].clone().req(1),o=s.get(t,e),s.status&_&&(p++,u.push(s.err())),!1!==o)return o;s.status&x&&(f++,t.bck(h))}return p>0?d.status|=_:d.status&=$,b===f&&p>0?d.status|=x:d.status&=w,d.status&&!d.$msg&&u.length&&(d.$msg=u.join(" | ")),!1}if(oe&y){k=y&J?1:0,k?d.status|=_:d.status&=$,m=l.pos(),g=d.name+"_"+tn(),r=0;do s=v[r].clone().req(k),o=s.get(t,e),r++;while(b>r&&!0===o&&U&s.type);if(r>=b)return s.status&x?(k?d.status|=x:d.status&=w,t.bck(h)):k&&s.status&_&&(d.status|=x),d.status&&!d.$msg&&(d.$msg=s.err()),o;if(!1!==o){if(!0!==o)for(n=b-1;n>=r;n--)l.pushAt(m+b-n-1,v[n].clone().req(1),"$id",g);return o}return s.status&x?(k?d.status|=x:d.status&=w,t.bck(h)):k&&s.status&_&&(d.status|=x),d.status&&!d.$msg&&(d.$msg=s.err()),!1}for(p=0,i=d.found,a=d.min,c=d.max,d.status&=$,m=l.pos(),g=d.name+"_"+tn(),u=[],n=0;b>n;n++){if(s=v[n].clone().req(1),o=s.get(t,e),!1!==o){if(++i,c>=i)return d.found=i,l.pushAt(m,d.clone(),"$id",g),d.found=0,o;break}s.status&_&&(p++,u.push(s.err())),s.status&x&&t.bck(h)}return a>i?d.status|=_:d.status&=$,i>c||a>i&&p>0?d.status|=x:d.status&=w,d.status&&!d.$msg&&u.length&&(d.$msg=u.join(" | ")),!1}}),d="",y="";{var kn=Le({constructor:function(t,e){var n=this;n.$grammar=t,n.DEF=e.DEFAULT,n.ERR=e.ERROR},$grammar:null,DEF:null,ERR:null,dispose:function(){var t=this;return t.$grammar=null,t.DEF=null,t.ERR=null,t},parse:function(t,e){t=t||"";var n,r,s,o,l,u=this,i=t.split(Ze),a=i.length,c=null;if(e=e||v,s=!!(e&b),o=!!(e&v),r={state:new gn(0,0,e),tokens:null},o)for(c=[],n=0;a>n;n++)r.state.line=n,r=u.getLineTokens(i[n],r.state,n),c=c.concat(r.tokens),a>n+1&&c.push("\r\n");else for(n=0;a>n;n++)r.state.line=n,r=u.getLineTokens(i[n],r.state,n);return l=o&&s?{tokens:c,errors:r.state.err}:o?c:r.state.err,r.state.dispose(),l},getLineTokens:function(t,e){var n,r,s,o,l,u,i,a,c,p,f,h,m,g,k,d,y,v=this,b=v.$grammar,_=b.Style,$=v.DEF,w=v.ERR,O=b.$interleaved,q=b.$parser,S=q.length;for(a=[],d=new on(t),y=e.stack,0===e.line?e.status|=F:e.status&=~F,c={id:null,type:null,content:""},p=null,f=null,i=null,d.sol()&&!y.isEmpty()&&I===y.peek().type&&y.pop(),m=e.line,h=d.pos,k=!1;!d.eol();){if(r=0,$===f||w===f){if(i&&k){for(g="";a.length&&i===a[a.length-1].id;)g=a.pop().content+g;i===c.id?g+=c.content:c.type&&a.push(c),g+=d.cur(1),a.push(g)}else c.type&&a.push(c),g=d.cur(1),a.push(g);c={id:null,type:null,content:""}}else f&&f!==c.type?(g=d.cur(1),c.type&&a.push(c),c={id:i,type:f,content:g}):c.type&&(g=d.cur(1),c.content+=g);if(f=!1,i=null,k=!1,!y.isEmpty()&&B===y.peek().type||!d.spc()){for(;!y.isEmpty()&&!d.eol();){if(O){for(o=0,s=0;o<O.length;)if(l=O[o++],p=l.get(d,e),!1!==p){f=_[p]||$,i=l.name,s=1;break}if(s){r=1;break}}if(h=d.pos,l=y.pop(),p=l.get(d,e),!1!==p){if(!0!==p){for(f=_[p]||$,i=l.name;!y.isEmpty()&&le===y.peek().type;)u=y.pop(),u.get(d,e),u.status&x&&(p=w,f=w,k=!0);r=1;break}}else{if(l.status&E){y.empty("$id",l.$id),d.nxt(),p=w,f=w,l.err(e,m,h,m,d.pos),r=1;break}f=!1}}if(!r){if(d.eol())break;for(n=0;S>n;n++)if(h=d.pos,l=q[n],p=l.get(d,e),!1!==p){if(!0!==p){for(f=_[p]||$,i=l.name;!y.isEmpty()&&le===y.peek().type;)u=y.pop(),u.get(d,e),u.status&x&&(p=w,f=w,k=!0);r=1;break}}else{if(l.status&E){y.empty("$id",l.$id),d.nxt(),p=w,f=w,l.err(e,m,h,m,d.pos),r=1;break}f=!1}if(!r){if(d.eol())break;d.nxt(),p=$,f=$}}}else p=$,f=$}if($===f||w===f)if(i&&k){for(g="";a.length&&i===a[a.length-1].id;)g=a.pop().content+g;i===c.id?g+=c.content:c.type&&a.push(c),g+=d.cur(1),a.push(g)}else c.type&&a.push(c),g=d.cur(1),a.push(g);else f&&f!==c.type?(g=d.cur(1),c.type&&a.push(c),a.push({id:i,type:f,content:g})):c.type&&(g=d.cur(1),c.content+=g,a.push(c));return c=null,{state:e,tokens:a}}});t.PrismGrammar={VERSION:"2.2.0",clone:Fe,extend:Ve,pre_process:h,parse:g,getMode:k}}return t.PrismGrammar});