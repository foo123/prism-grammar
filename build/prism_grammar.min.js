/**
*
*   PrismGrammar
*   @version: 3.1.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlighter for Prism
*   https://github.com/foo123/prism-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,n,t){"use strict";var o;"object"==typeof module&&module.exports?module.exports=t.call(e,{}):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(n,[],function(o){o(n,t.call(e,{}))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(){return t.call(e,{})}):n in e||(e[n]=o=t.call(e,{}))&&"function"==typeof define&&define.amd&&define(function(){return o})}(this,"PrismGrammar",function(e){"use strict";function n(e){var n=0;return null===e?n=ht:!0===e||!1===e||e instanceof Boolean?n=yt:Zn===e?n=ft:(n=Rt[lt.call(e)]||pt,n=mt===n||e instanceof Number?isNaN(e)?kt:isFinite(e)?mt:gt:$t===n||e instanceof String?1===e.length?dt:$t:vt===n||e instanceof Array?vt:_t===n||e instanceof RegExp?_t:Ot===n||e instanceof Date?Ot:wt===n||e instanceof Function?wt:xt===n?xt:pt),n}function t(e,n,t,o){var l,r,i,s,u,a,c=e.length;if(arguments.length<4&&(o=c-1),0>o&&(o+=c),arguments.length<3&&(t=0),t>o)return[];if(t===o)return[n(e[t],t,t,o)];for(i=o-t+1,s=15&i,u=1&s,a=new Array(i),u&&(a[0]=n(e[t],t,t,o)),l=u;s>l;l+=2)r=t+l,a[l]=n(e[r],r,t,o),a[l+1]=n(e[r+1],r+1,t,o);for(l=s;i>l;l+=16)r=t+l,a[l]=n(e[r],r,t,o),a[l+1]=n(e[r+1],r+1,t,o),a[l+2]=n(e[r+2],r+2,t,o),a[l+3]=n(e[r+3],r+3,t,o),a[l+4]=n(e[r+4],r+4,t,o),a[l+5]=n(e[r+5],r+5,t,o),a[l+6]=n(e[r+6],r+6,t,o),a[l+7]=n(e[r+7],r+7,t,o),a[l+8]=n(e[r+8],r+8,t,o),a[l+9]=n(e[r+9],r+9,t,o),a[l+10]=n(e[r+10],r+10,t,o),a[l+11]=n(e[r+11],r+11,t,o),a[l+12]=n(e[r+12],r+12,t,o),a[l+13]=n(e[r+13],r+13,t,o),a[l+14]=n(e[r+14],r+14,t,o),a[l+15]=n(e[r+15],r+15,t,o);return a}function o(e,n,t,o,l){var r,i,s,u,a,c=e.length,p=t;if(arguments.length<5&&(l=c-1),0>l&&(l+=c),arguments.length<4&&(o=0),o>l)return p;if(o===l)return n(p,e[o],o);for(s=l-o+1,u=15&s,a=1&u,a&&(p=n(p,e[o],o)),r=a;u>r;r+=2)i=o+r,p=n(n(p,e[i],i),e[i+1],i+1);for(r=u;s>r;r+=16)i=o+r,p=n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(p,e[i],i),e[i+1],i+1),e[i+2],i+2),e[i+3],i+3),e[i+4],i+4),e[i+5],i+5),e[i+6],i+6),e[i+7],i+7),e[i+8],i+8),e[i+9],i+9),e[i+10],i+10),e[i+11],i+11),e[i+12],i+12),e[i+13],i+13),e[i+14],i+14),e[i+15],i+15);return p}function l(e,n,t,o){if(n>t)return o;if(n===t)return e(n,o,n,t),o;var l,r,i=t-n+1,s=15&i,u=1&s;for(u&&e(n,o,n,t),l=u;s>l;l+=2)r=n+l,e(r,o,n,t),e(++r,o,n,t);for(l=s;i>l;l+=16)r=n+l,e(r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t),e(++r,o,n,t);return o}function r(e,t){var o,l,i,s,u=n(e),a=0;if(mt===n(t)?t>0?(a=t,t=!0):t=!1:t=!1!==t,xt===u){l={};for(i in e)e[nt](i)&&e[tt](i)&&(o=n(e[i]),l[i]=xt===o?t?r(e[i],a>0?a-1:t):e[i]:vt===o?t?r(e[i],a>0?a-1:t):e[i].slice():Ot===o?new Date(e[i]):$t&o?e[i].slice():mt&o?0+e[i]:e[i])}else if(vt===u)for(s=e.length,l=new Array(s),i=0;s>i;i++)o=n(e[i]),l[i]=xt===o?t?r(e[i],a>0?a-1:t):e[i]:vt===o?t?r(e[i],a>0?a-1:t):e[i].slice():Ot===o?new Date(e[i]):$t&o?e[i].slice():mt&o?0+e[i]:e[i];else l=Ot===u?new Date(e):$t&u?e.slice():mt&u?0+e:e;return l}function i(){var e,t,o,l,s,u,a,c,p,f,h=arguments,m=h.length;if(1>m)return null;for(t=r(h[0]),o=1;m>o;o++)if(e=h[o])for(l in e)if(e[nt](l)&&e[tt](l))if(t[nt](l)&&t[tt](l)){if(p=n(t[l]),f=n(e[l]),xt===p&&xt===f)t[l]=i(t[l],e[l]);else if(vt===p&&vt===f){if(a=t[l],c=e[l],u=c.length,!u)continue;if(a.length)for(s=0;u>s;s++)0>a.indexOf(c[s])&&a.push(c[s]);else t[l]=c.slice()}}else t[l]=r(e[l]);return t}function s(e,t){return t||vt!==n(e)?[e]:e}function u(e,t){return e=s(e),(t||vt!==n(e[0]))&&(e=[e]),e}function a(e,t){return $t&n(t)&&$t&n(e)&&t.length&&t.length<=e.length&&t===e.substr(0,t.length)}function c(e,n,t){return n<e.length?e.splice(n,0,t):e.push(t),e}function p(e,n){var t=0,o=e.length;if(!0===n)e.length=0;else if(n){for(;o>t&&e[o-t-1].$id===n;)t++;t&&(e.length=o-t)}return e}function f(e,n,t){return t?e[n]=Zn:delete e[n],e}function h(e){return(e||"id_")+ ++Mt}function m(e){return(e||"uuid")+"_"+ ++Mt+"_"+(new Date).getTime()}function g(){var e,t,o,l,r,i,s=arguments,u=s.length;for(e=s[0]||{},r=1;u>r;r++)if(t=s[r],xt===n(t))for(l in t)t[nt](l)&&t[tt](l)&&(o=t[l],i=n(o),e[l]=mt&i?0+o:Ot&i?new Date(o):Et&i?o.slice():o);return e}function k(e,n){var t,o=arguments.length,l="constructor";return 0===o?(e=Object,n={}):1===o?(n=e||{},e=Object):(e=e||Object,n=n||{}),n[nt](l)||(n[l]=function(){}),t=n[l],delete n[l],t[et]=g(rt(e[et]),n),t[et][l]=t,t}function y(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"&apos;"}function $(e){return"&#"+e.charCodeAt(0)+";"}function d(e,n){return e.replace(Tt,n?y:$)}function b(e){return e.replace(Pt,"\\$1")}function v(e,n){return new RegExp(e,n||"")}function x(e,n,t,o){var l,r,i,s,u=e.pos,a=e.length,c="",p=!!t;if(p){for(o=!!o,r=!1,s=0;a>u&&(l=e[at](u++),n!==l||r);)i=t===l,r=!r&&i,o?(i&&s++,(!i||2&s)&&(c+=l,s=0)):c+=l;2&s&&(c+=t)}else for(;a>u&&(l=e[at](u++),n!==l);)c+=l;return e.pos=u,c}function w(e,t,o){var l,r,i,s,u,a=!0===o?0:1;for($t&n(t)&&(t=[t,t,t],a=0),r=e.length,u="",l=0;r>l;)i=e[at](l),r>l+1&&"$"===i?(s=e.charCodeAt(l+1),36===s?(u+="$",l+=2):s>=48&&57>=s?(u+=t[a+s-48]||"",l+=2):(u+=i,l+=1)):(u+=i,l+=1);return u}function _(e,t,o,l){if(!e||(mt|_t)&n(e))return e;var r,i=t?t.length||0:0,s="";if($t&n(l)?s=l:l&&(s=Ct),i&&t===e.substr(0,i)){var u,a,c,r,p,f=e.substr(i),h=f[at](0),m="";for(r=f.length;r--&&(p=f[at](r),h!==p);)"i"===p.toLowerCase()&&(m="i");return u=f.substring(1,r),a="^("+u+")",o[a]||(c=v(a,m),o[a]=c),o[a]}return s?(a="^("+b(e)+")"+s,o[a]||(c=v(a,m),o[a]=c),o[a]):e}function O(e,o,l){var r,i="";return $t&n(o)?i=o:o&&(i=Ct),r=t(e.sort(Nt),b).join("|"),[v("^("+r+")"+i,l?"i":""),1]}function q(e,t,o,l){var r=n(t);if(mt===r)return t;if(l[e])return l[e];o=o||0;var i,s=0;return t&&t.isCharList&&(s=1,f(t,"isCharList")),i=ht===r?new A(bn,e,t,ht,o):dt===r?new A(bn,e,t,dt,o):St&r?new A(bn,e,t,_t,o):$t&r?new A(bn,e,t,s?bt:$t,o):t,l[e]=i}function E(e,t,o,l,r,i,u){if(u[e])return u[e];var c,p,f,h,m,g,k,y=0,$=0,d=1,b=$t&n(l)?!0:!!l;if(c=s(t),f=c.length,1===f)k=q(e,_(c[0],o,i,l),0,u);else if(f>1){for(h=(f>>>1)+1,p=0;h>=p;p++)m=n(c[p]),g=n(c[f-1-p]),(dt!==m||dt!==g)&&(d=0),vt&m||vt&g?y=1:(_t&m||_t&g||a(c[p],o)||a(c[f-1-p],o))&&($=1);if(d&&!b)c=c.slice().join(""),c.isCharList=1,k=q(e,c,0,u);else if(!b||y||$)if(y||$){for(p=0;f>p;p++)c[p]=vt&n(c[p])?E(e+"_"+p,c[p],o,l,r,i,u):q(e+"_"+p,_(c[p],o,i),p,u);k=f>1?new A(vn,e,c):c[0]}else{for(c=c.sort(Nt),p=0;f>p;p++)c[p]=q(e+"_"+p,_(c[p],o,i),p,u);k=f>1?new A(vn,e,c):c[0]}else k=q(e,O(c,l,r),0,u)}return u[e]=k}function S(e,t,o,r,i){if(i[e])return i[e];var s=u(t),c=[],p=[];return l(function(t){var l,u;l=q(e+"_0_"+t,_(s[t][0],o,r),t,i),u=s[t].length>1?_t!==l.ptype||$t!==n(s[t][1])||a(s[t][1],o)?q(e+"_1_"+t,_(s[t][1],o,r),t,i):s[t][1]:l,c.push(l),p.push(u)},0,s.length-1),i[e]=new A(xn,e,[c,p])}function L(e,n){var t=u(e.tokens.slice());l(function(e){var o=t[e][0],l=t[e].length>1?t[e][1]:t[e][0],r=t[e].length>2?t[e][2]:"";null===l?(n.line=n.line||[],n.line.push(o)):(n.block=n.block||[],n.block.push([o,l,r]))},0,t.length-1)}function R(e,n,o,l){var r=e.meta||o,i=!(!e.caseInsesitive&&!e.ci),s=t(n,function(e){return{word:e,meta:r,ci:i}});return l.autocomplete=(l.autocomplete||[]).concat(s),s}function j(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var t,o,l,r,s,u,a,c,p,h,m,g=e.Lex,k=e.Syntax,y=[g,k],$=y.length;for(m=0;$>m;){h=y[m++];for(l in h)h[nt](l)&&(t=l.split(":"),o=t[1]&&Dt(t[1]).length?Dt(t[1]):null,t=Dt(t[0]),t.length||(t=l,o=null),t!==l&&(h[t]=h[l],f(h,l),o&&(o=o[ut](),r=h[t],s=n(r),xt===s?h[t].type||(h[t].type=o):(h[t]={type:o},"error"===o?(h[t].type="action",h[t].error=r):"nop"===o?(h[t].type="action",h[t].nop=!0):"group"===o?(h[t].type="sequence",h[t].tokens=r):"action"===o&&$t===s?h[t][r]=!0:h[t].tokens=r))),g===h&&(Lt&n(h[t])&&(h[t]={type:"simple",tokens:h[t]}),r=h[t],r.type&&(c=r.type=r.type[ut](),"line-block"===c?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===c?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===c&&(r.type="block",r.multiline=!0,r.escape="\\"))))}h=g;for(t in h)if(h[nt](t))for(r=h[t];r.extend;)u=r.extend,f(r,"extend"),a=g[u],a&&(Lt&n(a)&&(a=g[u]={type:"simple",tokens:a}),r=i(a,r));h=g;for(t in h)h[nt](t)&&(r=h[t],r.type?(c=r.type=r.type[ut](),"line-block"===c?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===c?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===c&&(r.type="block",r.multiline=!0,r.escape="\\")):r["escaped-line-block"]?(r.type="block",r.multiline=!1,r.escape||(r.escape="\\"),r.tokens=r["escaped-line-block"],f(r,"escaped-line-block")):r["escaped-block"]?(r.type="block",r.multiline=!0,r.escape||(r.escape="\\"),r.tokens=r["escaped-block"],f(r,"escaped-block")):r["line-block"]?(r.type="block",r.multiline=!1,r.escape=!1,r.tokens=r["line-block"],f(r,"line-block")):r.comment?(r.type="comment",r.escape=!1,r.tokens=r.comment,f(r,"comment")):r.block?(r.type="block",r.tokens=r.block,f(r,"block")):r.simple?(r.type="simple",r.tokens=r.simple,f(r,"simple")):r.nop?(r.type="action",r.action=["nop",r.nop,!1],r.nop=!0):r.error?(r.type="action",r.action=["error",r.error,!!r["in-context"]],f(r,"error")):r[nt]("context")?(r.type="action",r.action=[r.context?"context-start":"context-end",r.context,!!r["in-context"]],f(r,"context")):r.indent?(r.type="action",r.action=["indent",r.indent,!!r["in-context"]],f(r,"indent")):r.outdent?(r.type="action",r.action=["outdent",r.outdent,!!r["in-context"]],f(r,"outdent")):r.unique?(r.type="action",r.action=["unique",$t&n(r.unique)?["_DEFAULT_",r.unique]:r.unique,!!r["in-context"]],f(r,"unique")):r.push?(r.type="action",r.action=["push",r.push,!!r["in-context"]],f(r,"push")):r[nt]("pop")?(r.type="action",r.action=["pop",r.pop,!!r["in-context"]],f(r,"pop")):r.type="simple","action"===r.type?r.ci=!(!r.caseInsesitive&&!r.ci):"block"===r.type||"comment"===r.type?(r.multiline=r[nt]("multiline")?!!r.multiline:!0,$t&n(r.escape)||(r.escape=!1)):"simple"===r.type&&(r.meta=r.autocomplete&&$t&n(r.meta)?r.meta:null,r.ci=!(!r.caseInsesitive&&!r.ci)));h=k;for(t in h)h[nt](t)&&(r=h[t],xt!==n(r)||r.type?r.type&&(c=r.type=r.type[ut](),"group"===c&&r.match?(s=n(r.match),$t&s?(p=r.match[ut](),"alternation"===p||"either"===p?(r.type="alternation",f(r,"match")):"sequence"===p||"all"===p?(r.type="sequence",f(r,"match")):"zeroorone"===p?(r.type="zeroOrOne",f(r,"match")):"zeroormore"===p?(r.type="zeroOrMore",f(r,"match")):"oneormore"===p?(r.type="oneOrMore",f(r,"match")):(r.type="sequence",f(r,"match"))):vt&s&&(r.type="repeat",r.repeat=r.match,f(r,"match"))):"either"===c?r.type="alternation":"all"===c?r.type="sequence":"lookahead"===c&&(r.type="positiveLookahead")):r.ngram||r["n-gram"]?(r.type="ngram",r.tokens=r.ngram||r["n-gram"],r["n-gram"]?f(r,"n-gram"):f(r,"ngram")):r.sequence||r.all?(r.type="sequence",r.tokens=r.sequence||r.all,r.all?f(r,"all"):f(r,"sequence")):r.alternation||r.either?(r.type="alternation",r.tokens=r.alternation||r.either,r.either?f(r,"either"):f(r,"alternation")):r.zeroOrOne?(r.type="zeroOrOne",r.tokens=r.zeroOrOne,f(r,"zeroOrOne")):r.zeroOrMore?(r.type="zeroOrMore",r.tokens=r.zeroOrMore,f(r,"zeroOrMore")):r.oneOrMore?(r.type="oneOrMore",r.tokens=r.oneOrMore,f(r,"oneOrMore")):r.positiveLookahead||r.lookahead?(r.type="positiveLookahead",r.tokens=r.positiveLookahead||r.lookahead,r.lookahead?f(r,"lookahead"):f(r,"positiveLookahead")):r.negativeLookahead&&(r.type="negativeLookahead",r.tokens=r.negativeLookahead,f(r,"negativeLookahead")));return e}function D(e,t,o){if(o=o||{},t=t||[],!e||!e.length)return t;var l,r,i,s,u,a,c;for(l=0,r=e.length;r>l;l++)if(u=e[l])if(Rn===u.type)if(u.autocompletions)for(i=0,s=u.autocompletions.length;s>i;i++)c=u.autocompletions[i],o[nt]("w_"+c.word)||(t.push(c),o["w_"+c.word]=1);else $t===u.token.ptype&&$t&n(u.token.pattern)&&u.token.pattern.length>1&&(o[nt]("w_"+u.token.pattern)||(t.push({word:""+u.token.pattern,meta:u.name,ci:!!u.ci}),o["w_"+u.token.pattern]=1));else if(Nn===u.type)D(u.token,t,o);else if(Bn&u.type){i=0,s=u.token.length;do D([a=u.token[i++]],t,o);while(s>i&&(Fn&a.type&&1>a.min||wn===a.type))}else Fn&u.type&&D([u.token[0]],t,o);return t}function N(e,t,o,l){for(var r;$t&n(r=t[e]||o[e]);)e=r;return l?e:t[e]||o[e]||e}function z(e,n){return e.length>1?l(n?function(n,t){var o=t[t.length-1],l=e[n];o===l||t.push(l)}:function(n,t){var o=t[t.length-1],l=e[n];It.test(l)&&It.test(o)&&o===l||t.push(l)},1,e.length-1,[e[0]]):e}function F(e,o,l){var i,s,u,a,c,p,f,h,m,g,k,y,$,d,w,_=!1;if(w=e.modifier?e.modifier:null,h=new String(Dt(e)),h.pos=0,1===h.length)y=""+e,o[y]||l[y]||(o[y]={type:"simple",tokens:e}),e=y;else{for(i=[],s=[],u="",$=[];h.pos<h.length;)if(m=h[at](h.pos++),At.test(m))if(u.length&&(_?(s.length&&(k=s[s.length-1],y=k+"."+u,p=o[y]||l[y],p||(f=N(k,o,l),l[y]=$t&n(f)?new String(f):r(f),l[y].modifier=u),s[s.length-1]=y),_=!1):"0"===u?(o[Qn]||(o[Qn]={type:"simple",tokens:0}),s.push(Qn)):"^^"===u?(o[Yn]||(o[Yn]={type:"simple",tokens:_n}),s.push(Yn)):"^^1"===u?(o[Kn]||(o[Kn]={type:"simple",tokens:On}),s.push(Kn)):"^"===u?(o[Vn]||(o[Vn]={type:"simple",tokens:En}),s.push(Vn)):"$"===u?(o[Wn]||(o[Wn]={type:"simple",tokens:qn}),s.push(Wn)):(o[u]||l[u]||(o[u]={type:"simple",tokens:u}),s.push(u)),u=""),"."===m)s.length&&h.pos<h.length&&!At.test(h[at](h.pos))?_=!0:u+=m;else if('"'===m||"'"===m)a=x(h,m,"\\",!0),a.length?(y=""+a,o[y]||(o[y]={type:"simple",tokens:a}),s.push(y)):(o[Xn]||(o[Xn]={type:"simple",tokens:""}),s.push(Xn));else if("["===m)a=x(h,"]","\\",!0),y="["+a+"]",o[y]||(o[y]={type:"simple",tokens:v("^(["+("^"===a[at](0)?"^"+b(a.slice(1)):b(a))+"])")}),s.push(y);else{if("]"===m){u+=m;continue}if("/"===m)a=x(h,m,"\\",!1),g="",a.length&&(h.pos<h.length&&"i"===h[at](h.pos)&&(h.pos++,g="i"),y="/"+a+"/"+g,o[y]||(o[y]={type:"simple",tokens:v("^("+a+")",g)}),s.push(y));else if("*"===m||"+"===m||"?"===m)s.length?(k=s[s.length-1],y=""+k+m,l[y]||(l[y]={type:"*"===m?"zeroOrMore":"+"===m?"oneOrMore":"zeroOrOne",tokens:[k]}),s[s.length-1]=y):u+=m;else if("{"===m)s.length?(c=x(h,"}",!1),c=t(c.split(","),Dt),c[0]=c[0].length?parseInt(c[0],10)||0:0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1]=c[1].length?parseInt(c[1],10)||ct:ct,0>c[1]&&(c[1]=0),k=s[s.length-1],y=""+k+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),l[y]||(l[y]={type:"repeat",repeat:[c[0],c[1]],tokens:[k]}),s[s.length-1]=y):u+=m;else{if("}"===m){u+=m;continue}"&"===m||"!"===m?s.length?(k=s[s.length-1],y=""+k+m,l[y]||(l[y]={type:"!"===m?"negativeLookahead":"positiveLookahead",tokens:[k]}),s[s.length-1]=y):u+=m:"|"===m?(_=!1,s=z(s),s.length>1?(y=""+s.join(" "),l[y]||(l[y]={type:"sequence",tokens:s}),i.push(y)):s.length?i.push(s[0]):u+=m,s=[]):"("===m?($.push([s,i,u]),s=[],i=[],u=""):")"===m&&(s=z(s),s.length>1?(y=""+s.join(" "),l[y]||(l[y]={type:"sequence",tokens:s}),i.push(y)):s.length&&i.push(s[0]),s=[],i=z(i,1),i.length>1?(y=""+i.join(" | "),l[y]||(l[y]={type:"alternation",tokens:i})):i.length&&(y=i[0]),i=[],d=$.pop(),s=d[0],i=d[1],u=d[2],k=y,y="("+k+")",l[y]||(l[y]=r(N(k,o,l))),s.push(y))}}else u+=m;u.length&&(_?(s.length&&(k=s[s.length-1],y=k+"."+u,p=o[y]||l[y],p||(f=N(k,o,l),l[y]=$t&n(f)?new String(f):r(f),l[y].modifier=u),s[s.length-1]=y),_=!1):"0"===u?(o[Qn]||(o[Qn]={type:"simple",tokens:0}),s.push(Qn)):"^^"===u?(o[Yn]||(o[Yn]={type:"simple",tokens:_n}),s.push(Yn)):"^^1"===u?(o[Kn]||(o[Kn]={type:"simple",tokens:On}),s.push(Kn)):"^"===u?(o[Vn]||(o[Vn]={type:"simple",tokens:En}),s.push(Vn)):"$"===u?(o[Wn]||(o[Wn]={type:"simple",tokens:qn}),s.push(Wn)):(o[u]||l[u]||(o[u]={type:"simple",tokens:u}),s.push(u))),u="",s=z(s),s.length>1?(y=""+s.join(" "),l[y]||(l[y]={type:"sequence",tokens:s}),i.push(y)):s.length&&i.push(s[0]),s=[],i=z(i,1),i.length>1?(y=""+i.join(" | "),l[y]||(l[y]={type:"alternation",tokens:i}),e=y):i.length&&(e=i[0]),i=[]}return w&&(o[e]||l[e])&&((o[e]||l[e]).modifier=w),e}function M(e,r,i,a,c,p,f,h,m,g,k){var y,$,d,b,v,x,w,_=null,O=null,q=null;if(_n===e||On===e||En===e||qn===e)return new I(e,_n===e?Yn:On===e?$T_FBNL$:En===e?Vn:Wn,e,O);if(!1===e||0===e)return new I(Sn,Qn,0,O);if(""===e)return new I(Ln,Xn,"",O);if(null===e)return new I(Rn,Jn,ht,O,q);if(vt&n(e)&&(d=e,e="NGRAM_"+d.join("_"),a[e]||(a[e]={type:"ngram",tokens:d})),e=""+e,h[e])return h[e];if(v=N(e,i,a),$t&n(v)&&(v=F(v,i,a),v=i[v]||a[v]||null),!v)return null;if(y=v.type?Un[v.type[ut]().replace(Ft,"")]||Rn:Rn,O=v.msg||null,q=v.modifier||null,$=v.tokens,Rn&y){if(_n===$||On===$||En===$||qn===$||!1===$||0===$)return _=new I($||Sn,e,$||0,O),h[e]=_,_;if(""===$)return _=new I(Ln,e,"",O),h[e]=_,_;if(null===$)return _=new I(Rn,e,ht,O,q),h[e]=_,_;if(!$)return null}if(wn&y)v[nt]("action")?"nop"===v.action[0]?v.action[0]=pn:"error"===v.action[0]?v.action[0]=fn:"context-start"===v.action[0]?v.action[0]=mn:"context-end"===v.action[0]?v.action[0]=gn:"push"===v.action[0]?v.action[0]=kn:"pop"===v.action[0]?v.action[0]=yn:"unique"===v.action[0]?v.action[0]=hn:"indent"===v.action[0]?v.action[0]=$n:"outdent"===v.action[0]&&(v.action[0]=dn):v[nt]("nop")?v.action=[pn,v.nop,!!v["in-context"]]:v[nt]("error")?v.action=[fn,v.error,!!v["in-context"]]:v[nt]("context")?v.action=[v.context?mn:gn,v.context,!!v["in-context"]]:v[nt]("context-start")?v.action=[mn,v["context-start"],!!v["in-context"]]:v[nt]("context-end")?v.action=[gn,v["context-end"],!!v["in-context"]]:v[nt]("push")?v.action=[kn,v.push,!!v["in-context"]]:v[nt]("pop")?v.action=[yn,v.pop,!!v["in-context"]]:v[nt]("unique")?v.action=[hn,$t&n(v.unique)?["_DEFAULT_",v.unique]:v.unique,!!v["in-context"]]:v[nt]("indent")?v.action=[$n,v.indent,!!v["in-context"]]:v[nt]("outdent")&&(v.action=[dn,v.outdent,!!v["in-context"]]),v.nop&&(v.action[0]=pn),_=new I(wn,e,v.action.slice(),O,q),_.ci=!!v.caseInsensitive||v.ci,h[e]=_;else if($=s($),Rn&y){if(w=v.autocomplete?R(v,Et&n(v.autocomplete)?s(v.autocomplete):$,e,k):null,x="undefined"!=typeof v.combine?v.combine:vt&n(v.tokens)?!0:!1,_=new I(Rn,e,E(e,$.slice(),r,x,!(!v.caseInsensitive&&!v.ci),p,f),O,q,null,w),h[e]=_,null!=v.except){var j,D,z=s(v.except),P=z.length,T=[];for(j=0;P>j;j++)z[j]&&(D=M(z[j],r,i,a,c,p,f,h,m,g,k),D&&T.push(D));T.length&&(_.except=T)}}else jn&y?(Dn===y&&L(v,g),_=new I(y,e,S(e,$.slice(),r,p,f),O),_.mline=v[nt]("multiline")?!!v.multiline:!0,_.esc=v[nt]("escape")?v.escape:!1,_.inter=!!c[e+".inside"],Dn===y&&v.interleave&&m.push(B(_)),q&&(_.modifier=q),h[e]=_):Hn&y&&(Gn===y?(b=u($),_=t(b,function(n,t){return new I(Gn,e+"_NGRAM_"+t,null,O,q)}),h[e]=_,l(function(e){_[e].token=s(o(b[e],function(e,n){return e.concat(M(n,r,i,a,c,p,f,h,m,g,k))},[]))},0,b.length-1)):(Cn===y||In===y?_=new I(y,e,null,O,q):Fn&y&&vt&n(v.repeat)?(_=new I(Fn,e,null,O,q),_.min=v.repeat[0],_.max=v.repeat[1]):Mn===y?(_=new I(Mn,e,null,O,q),_.min=0,_.max=1):Pn===y?(_=new I(Pn,e,null,O,q),_.min=0,_.max=ct):Tn===y?(_=new I(Tn,e,null,O,q),_.min=1,_.max=ct):_=Nn===y?new I(Nn,e,null,O,q):new I(zn,e,null,O,q),h[e]=_,_.token=s(o($,function(e,n){return e.concat(M(n,r,i,a,c,p,f,h,m,g,k))},[]))));return h[e]}function P(e){var t={};return e.Lex=e.Lex||{},e.Syntax=e.Syntax||{},e=j(e),e.Parser&&e.Parser.length&&l(function o(r,i){var s,u,a,c=i[r];t[c]||(vt&n(c)&&(s=c,c="NGRAM_"+s.join("_"),e.Syntax[c]||(e.Syntax[c]={type:"ngram",tokens:s})),u=N(c,e.Lex,e.Syntax),$t&n(u)&&(u=F(u,e.Lex,e.Syntax),u=e.Lex[u]||e.Syntax[u]||null),u&&(t[c]=u,a=u.type?Un[u.type[ut]().replace(Ft,"")]||Rn:Rn,Hn&a&&l(o,0,u.tokens.length-1,u.tokens)))},0,e.Parser.length-1,e.Parser),e}function T(e){var t,l,i,s,u,a,c,p,f,h,m,g,k;return e.__parsed?e:(t=e.RegExpID||null,i=e.Extra?r(e.Extra):{},s=e.Style?r(e.Style):{},u=null,a=e.Lex?r(e.Lex):{},c=e.Syntax?r(e.Syntax):{},p={},f={},h={},g={},k={},m=[],l=e.Parser?r(e.Parser):[],e=j({Style:s,Fold:u,Lex:a,Syntax:c,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:i,__parsed:0}),e.$parser=o(l,function(e,o){var l=M(o,t,a,c,s,p,f,h,m,g,k)||null;return l&&(vt&n(l)?e=e.concat(l):e.push(l)),e},[]),e.$interleaved=m&&m.length?m:null,e.$comments=g,e.$autocomplete=k&&k.autocomplete&&k.autocomplete.length?k.autocomplete:null,e.__parsed=1,e)}function A(e,t,o,l,r){var i,s,u=this;i=u.type=e,u.name=t,u.pattern=o,s=u.ptype=l||$t,u.key=r||0,vn===i?u.key=!1!==r:xn===i?u.pattern[0]=new A(vn,t+"_Start",o[0],null,!1):ht===s?u.pattern=null:_t===s&&(u.pattern=_t&n(o)?[o,0]:[o[0],o[1]||0])}function C(e,t,o,l){var r,i,s,u,a,c,p,f,h,m,g,k=e,y=k.type,$=k.pattern,d=k.key;if(xn===y){if(r=k.name,s=$[0],u=$[1],c=C(s,t,o,l))return a=u[c[0]],f=n(a),h=s.pattern[c[0]].ptype,_t===h&&qt&f&&(p=mt&f?c[1][a+1]:w(a,c[1]),a=new A(bn,r+"_End",p,p.length>1?$t:dt)),a}else if(vn===y){for(m=0,g=$.length;g>m;m++)if(p=C($[m],t,o,l))return d?[m,p[1]]:p}else{if(i=k.ptype,ht===i)return!1!==o&&t.end(),[d,""];if(_t===i){if(p=t.slice(t.pos).match($[0]),p&&0===p.index)return!1!==o&&t.mov(p[$[1]||0].length),[d,$[1]>0?p[$[1]]:p]}else if(bt===i){if(!0===l){p=-1;var b,v;for(g=$.length-1;g>=0;g--)b=t.indexOf($[at](g),t.pos),b>-1&&(-1===p||p>b)&&(p=b,v=$[at](g));if(p>-1)return!1!==o&&(t.pos=p+1),[d,v]}else if(p=t[at](t.pos)||null,p&&-1<$.indexOf(p))return!1!==o&&t.mov(1),[d,p]}else if(dt===i){if(!0===l){if(p=t.indexOf($,t.pos),p>-1)return!1!==o&&(t.pos=p+1),[d,$]}else if(p=t[at](t.pos)||null,$===p)return!1!==o&&t.mov(1),[d,p]}else if($t===i)if(g=$.length,!0===l){if(p=t.indexOf($,t.pos),p>-1)return!1!==o&&(t.pos=p+g),[d,$]}else if($===t.substr(t.pos,g))return!1!==o&&t.mov(g),[d,$]}return!1}function I(e,n,t,o,l,r,i){var s=this;s.type=e,s.name=n,s.token=t,s.modifier=l||null,s.except=r||null,s.autocompletions=i||null,s.pos=null,s.msg=o||null,s.$msg=null,s.status=0,s.ci=!1,s.mline=!0,s.esc=!1,s.inter=!1,s.found=0,s.min=0,s.max=1,s.$id=null}function G(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function B(e,n,t,o){var l=new I(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions);return l.ci=e.ci,l.mline=e.mline,l.esc=e.esc,l.inter=e.inter,l.found=e.found,l.min=e.min,l.max=e.max,n&&(l.status|=rn),t&&(l.modifier=t),o&&(l.$id=o),l}function H(e){var n=e.name;return e.$msg?e.$msg:e.status&rn?'Token "'+n+'" Expected':'Syntax Error: "'+n+'"'}function U(e,n,t,o,l,r,i){e.err[n+"_"+t+"_"+o+"_"+l+"_"+(r?r.name:"ERROR")]=[n,t,o,l,i||H(r)]}function Y(e,n,t,o){if(!e)return!1;var l=e.type,r=Hn&l?J:jn&l?W:wn&l?K:V;return r(e,n,t,o)}function K(e,t,o,l){var r,i,s,u,a,c,p,f,h,m,g,k,y,$,d,b,v=e,x=v.token||null,_=v.ci,O=v.name,q=!(o.status&on);if(v.status=0,v.$msg=null,q||!x||!l||!l.pos)return!0;if(b=!!(jn&l.T),pn===x[0]||b&&!l.block)return!0;if(r=x[0],i=x[1],y=x[2],a=v.msg,c=o.queu,p=o.symb,f=o.ctx,b?(d=l.block.match||l.block.str,h=l.block.pos[0][0],m=l.block.pos[0][1],g=l.block.pos[0][2],k=l.block.pos[0][3]):(d=l.match||l.str,h=l.pos[0],m=l.pos[1],g=l.pos[2],k=l.pos[3]),fn===r)return!a&&$t&n(i)&&(a=i),v.$msg=a?w(a,d,!0):'Error "'+O+'"',U(o,h,m,g,k,v,H(v)),v.status|=sn,!1;if(gn===r)f.length&&f.shift();else if(mn===r)f.unshift({symb:{},queu:[]});else if(yn===r){if(y){if(!f.length)return!0;c=f[0].queu}if(i){if(i=w(i,d),_&&(i=i[ut]()),!c.length||i!==c[0][0])return c.length?(v.$msg=a?w(a,[c[0][0],i],!0):'Tokens do not match "'+c[0][0]+'","'+i+'"',$=H(v),U(o,c[0][1],c[0][2],c[0][3],c[0][4],v,$),U(o,h,m,g,k,v,$),c.shift()):(v.$msg=a?w(a,["",i],!0):'Token does not match "'+i+'"',$=H(v),U(o,h,m,g,k,v,$)),v.status|=sn,!1;c.shift()}else c.shift()}else if(kn===r&&i){if(y){if(!f.length)return!0;c=f[0].queu}i=w(i,d),_&&(i=i[ut]()),v.$msg=a?w(a,i,!0):'Token does not match "'+i+'"',c.unshift([i,h,m,g,k,H(v)])}else if(hn===r){if(y){if(!f.length)return!0;p=f[0].symb}if(s=i[1],u=i[0],s=w(s,d,!0),_&&(s=s[ut]()),p[nt](u)||(p[u]={}),p[u][nt](s))return v.$msg=a?w(a,s,!0):'Duplicate "'+s+'"',$=H(v),U(o,p[u][s][0],p[u][s][1],p[u][s][2],p[u][s][3],v,$),U(o,h,m,g,k,v,$),v.status|=sn,!1;p[u][s]=[h,m,g,k]}return!0}function V(e,n,t,o,l){var r,i=e,s=i.token,u=i.modifier,a=i.type,c=i.name,p=i.except,f=t.line,h=n.pos,m=null,g=!1;if(i.status&=an,i.$msg=l?null:i.msg||null,p)for(var k=0,y=p.length;y>k;k++)if(r=p[k],i!==r&&Rn===r.type&&V(r,n,t,o,1))return n.bck(h),!1;return _n===a?g=0===t.line:On===a?g=t.bline+1===t.line:En===a?g=n.sol():qn===a?(n.spc(),n.eol()?g=c:n.bck(h)):Sn===a?(i.status=0,g=!0):Ln===a?(i.status&rn&&n.spc()&&!n.eol()?(n.bck(h),i.status|=sn):g=!0,i.status&=un):ht===s?(n.end(),g=u||c):(m=C(s,n))&&(m=m[1],g=u||c),l?g:(!1!==g&&(o.T=a,o.id=c,o.type=g,o.str=n.sel(h,n.pos),o.match=m,o.pos=[f,h,f,n.pos]),!g&&i.status&&i.$msg&&(i.$msg=w(i.$msg,c,!0)),g)}function W(e,n,t,o){var l,r,i,s,u,a,p,f,h,m,g,k,y,$,d,b,v,x,_,O,q,E=e,S=E.name,L=E.type,R=E.modifier,j=E.token,D=E.mline,N=E.inter,z=N?S+".inside":S,F=E.esc,M=!!F,P="",T="",A="",I="",G=E.$id||S,H=t.stack;if(E.status&=an,E.$msg=E.msg||null,_=t.line,O=n.pos,Dn===L&&(E.status&=un),d=E.status&rn,i=0,s=0,t.block&&t.block.name===S?(s=1,i=1,$=z,l=t.block.end,f=t.block.sp,m=t.block.ip,h=t.block.ep,P=t.block.s,T=t.block.i):!t.block&&(l=C(j,n))&&(s=1,$=S,b=n.pos,f=[_,O],m=[[_,b],[_,b]],h=[_,b],P=n.sel(O,b),T="",I="",t.block={name:S,end:l,sp:f,ip:m,ep:h,s:P,i:T,e:I}),s){if(x=H.length,r=ht===l.type,N){if(r&&i&&n.sol())return E.status&=un,t.block=null,!1;if(!i)return b=n.pos,o.T=L,o.id=S,o.type=R||$,o.str=n.sel(O,b),o.match=null,o.pos=[_,O,_,b],c(H,x,B(E,d,0,G)),R||$}if(b=n.pos,u=C(l,n),p=D,a=0,u)$=r?z:S,I=n.sel(b,n.pos);else if(v=n.pos,k=!1,M||bt!==l.ptype&&dt!==l.ptype&&$t!==l.ptype)for(;!n.eol();){if(b=n.pos,!k&&C(l,n)){N&&n.pos>b&&b>v?($=z,n.bck(b),a=1):($=S,u=1),I=n.sel(b,n.pos);break}y=n.nxt(1),A+=y,k=M&&!k&&F===y,b=n.pos}else(q=C(l,n,!0,!0))?(N&&n.pos>b+q[1].length?($=z,n.mov(-q[1].length),a=1):($=S,u=1),I=n.sel(b,n.pos)):(n.end(),$=z,a=1,A=n.sel(b,n.pos));return p=D||M&&k,T+=A,m[1]=[_,b],h=[_,n.pos],u||!p&&!a?t.block=null:(t.block.ip=m,t.block.ep=h,t.block.i=T,t.block.e=I,c(H,x,B(E,d,0,G))),o.T=L,o.id=S,o.type=R||$,o.str=n.sel(O,n.pos),o.match=null,o.pos=[_,O,h[0],h[1]],t.block||(g=P+T+I,o.block={str:g,match:[g,T,P,I],part:[g,P,T,I],pos:[[f[0],f[1],h[0],h[1]],[f[0],f[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],h[0],h[1]]]}),R||$}return E.status&&E.$msg&&(E.$msg=w(E.$msg,S,!0)),!1}function J(e,n,t,o){var l,r,i,s,u,a,p,f,m,g,k,y,$,d,b,v=e,x=v.type,w=(v.name,v.token),_=w.length,O=v.modifier;if(v.status&=an,v.$msg=v.msg||null,y=t.stack,f=n.pos,m=y.length,a=0,p=0,d=v.$id||h(),Nn===x){for(v.status|=rn,$=[],g=0;_>g;g++){if(l=B(w[g],1,O,d),r=Y(l,n,t,o),l.status&rn&&(a++,$.push(H(l))),!1!==r)return r;l.status&sn&&(p++,n.pos>f&&n.bck(f),y.length>m&&(y.length=m))}return a>0?v.status|=rn:v.status&=un,_===p&&a>0?v.status|=sn:v.status&=an,v.status&&!v.$msg&&$.length&&(v.$msg=$.join(" | ")),!1}if(Bn&x){b=!!(x&zn),b?v.status|=rn:v.status&=un,k=0;do l=B(w[k++],b,O,d),r=Y(l,n,t,o);while(_>k&&(!0===r&&An&l.type||!1===r&&!(l.status&rn)));if(!1!==r){if(!0!==r||Sn!==l.type)for(g=_-1;g>=k;g--)c(y,m+_-g-1,B(w[g],1,O,d));return r}return l.status&sn?(b?v.status|=sn:v.status&=an,n.pos>f&&n.bck(f),y.length>m&&(y.length=m)):b&&l.status&rn&&(v.status|=sn),v.status&&!v.$msg&&(v.$msg=H(l)),!1}if(An&x)return l=B(w[0],1,O,d),r=Y(l,n,t,o),n.pos>f&&n.bck(f),y.length>m&&(y.length=m),In===x?!1===r:!1!==r;for(i=v.found,s=v.min,u=v.max,v.status=0,$=[],g=0;_>g;g++){if(l=B(w[g],1,O,d),r=Y(l,n,t,o),!1!==r){if(++i,u>=i)return v.found=i,c(y,m,B(v,0,0,d)),v.found=0,r;break}l.status&rn&&(a++,$.push(H(l))),l.status&sn&&(n.pos>f&&n.bck(f),y.length>m&&(y.length=m))}return s>i&&(v.status|=rn),(i>u||s>i&&a>0)&&(v.status|=sn),v.status&&!v.$msg&&$.length&&(v.$msg=$.join(" | ")),!1}function Q(e,n){var t=this;t.id=e?m("state"):"state",n instanceof Q?(t.line=n.line,t.bline=n.bline,t.status=n.status,t.stack=n.stack.slice(),t.token=n.token,t.block=n.block,t.status&on?(t.queu=n.queu,t.symb=n.symb,t.ctx=n.ctx,t.err=n.err):(t.queu=null,t.symb=null,t.ctx=null,t.err=null),t.$eol$=n.$eol$,t.$blank$=n.$blank$):(t.line=-1,t.bline=-1,t.status=n||0,t.stack=[],t.token=null,t.block=null,t.status&on?(t.queu=[],t.symb={},t.ctx=[],t.err={}):(t.queu=null,t.symb=null,t.ctx=null,t.err=null),t.$eol$=!0,t.$blank$=!0),t.toString=function(){return t.id+"_"+t.line+"_"+t.bline+"_"+(t.block?t.block.name:"0")}}function X(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.block=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function Z(e,n,t){var o=new String(e);return o.start=n||0,o.pos=t||0,o.sol=function(){return 0===o.pos},o.eol=function(){return o.pos>=o.length},o.end=function(){return o.pos=o.length,o},o.mov=function(e){return o.pos=0>e?it(0,o.pos+e):st(o.length,o.pos+e),o},o.bck=function(e){return o.pos=it(0,e),o},o.sft=function(){return o.start=o.pos,o},o.nxt=function(e,n){var t,l,r="";if(!0===e){for(n=n||Z.$NONSPC$;o.pos<o.length&&n.test(t=o[at](o.pos++));)r+=t;return r.length?r:null}for(e=e||1,l=0;l++<e&&o.pos<o.length;)r+=o[at](o.pos++);return r},o.cur=function(e){var n=o.slice(o.start,o.pos);return e&&(o.start=o.pos),n},o.sel=function(e,n){return o.slice(e,n)},o.spc=function(e,n){var t;return(t=o.slice(o.pos).match(n||Z.$SPC$))?(!1!==e&&o.mov(t[0].length),t[0]):void 0},o}function en(e,n){var t=n[e];t.content?t.content=d(t.content,1):t=d(t,1),n[e]=t}function nn(e,t){var o,r=0,i=t,s={"before-highlight":function(e){o.$parser&&o.$lang===e.language&&(e._code=e.code,e.code="")},"before-insert":function(e){if(o.$parser&&o.$lang===e.language){e.code=e._code,e._code="";var n=o.$parser.parse(e.code,tn|on|ln).tokens;o.escapeHtml&&l(en,0,n.length-1,n),e.highlightedCode=i.Token.stringify(n,e.language)}}};return o={$id:m("prism_grammar_highlighter"),$parser:new Ht.Parser(T(e)),$lang:null,escapeHtml:!0,$async:!1,hook:function(e,t){if(r&&o.unhook(),$t&n(t)){var l=e;e=t,t=l}i=t||i,o.$lang=e;for(var u in s)s[nt](u)&&i.hooks.add(u,s[u]);r=1},unhook:function(){if(r){var e,n,t=i.hooks.all;for(e in s)t[nt](e)&&s[nt](e)&&(n=t[e].indexOf(s[e]),n>-1&&t[e].splice(n,1));r=0,o.$lang=null,i=null}},dispose:function(){o.unhook(),o.$parser&&o.$parser.dispose(),o.$parser=null,o.$lang=null}}}var tn=1,on=2,ln=32,rn=4,sn=8,un=~rn,an=~sn,cn=rn|sn,pn=0,fn=4,hn=8,mn=16,gn=17,kn=32,yn=33,$n=128,dn=129,bn=2,vn=4,xn=8,wn=4,_n=8,On=9,qn=16,En=32,Sn=128,Ln=256,Rn=512,jn=1024,Dn=1025,Nn=2048,zn=4096,Fn=8192,Mn=8193,Pn=8194,Tn=8195,An=16384,Cn=An,In=16385,Gn=32768,Bn=zn|Gn,Hn=Nn|zn|Fn|An|Gn,Un={action:wn,simple:Rn,block:jn,comment:Dn,alternation:Nn,sequence:zn,repeat:Fn,zeroorone:Mn,zeroormore:Pn,oneormore:Tn,positivelookahead:Cn,negativelookahead:In,ngram:Gn},Yn="$|SOF|$",Kn="$|NONBLANK|$",Vn="$|SOL|$",Wn="$|EOL|$",Jn="$|ENDLINE|$",Qn="$|EMPTY|$",Xn="$|NONSPACE|$",Zn=void 0,et="prototype",nt="hasOwnProperty",tt="propertyIsEnumerable",ot=Object[et],lt=ot.toString,rt=Object.create,it=Math.max,st=Math.min,ut="toLowerCase",at="charAt",ct=1/0,pt=4,ft=8,ht=16,mt=32,gt=33,kt=34,yt=64,$t=128,dt=129,bt=130,vt=256,xt=512,wt=1024,_t=2048,Ot=4096,qt=$t|mt,Et=$t|vt,St=_t|vt,Lt=$t|vt|_t,Rt={"[object Number]":mt,"[object String]":$t,"[object Array]":vt,"[object RegExp]":_t,"[object Date]":Ot,"[object Function]":wt,"[object Object]":xt},jt=/^\s+|\s+$/g,Dt=String[et].trim?function(e){return e.trim()}:function(e){return e.replace(jt,"")},Nt=function(e,n){return n.length-e.length},zt=/\r\n|\r|\n/g,Ft=/[\-_]/g,Mt=0,Pt=/([.*+?^${}()|[\]\/\\\-])/g,Tt=/[&"'<>]/g,At=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Ct="(\\s|\\W|$)",It=/[*+]$/;Z.$SPC$=/^[\s\u00a0]+/,Z.$NONSPC$=/[^\s\u00a0]/,Z.$NOTEMPTY$=/\S/,Z.$SPACE$=/^\s*/;var Gt=k({constructor:function(e,n,t){var o=this;o.$grammar=e,o.$DEF=n||null,o.$ERR=t||null,o.DEF=o.$DEF,o.ERR=o.$ERR,o.$folders=[]},$grammar:null,$folders:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=null,e.$folders=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,n){var t,o,l,r,i,s,u,a,c,f,h,m,g,k,y,$=this,d=$.$grammar,b=d.Style,v=$.DEF,x=$.ERR,w={},_=$.$n$,O=$.$t$,q=$.$v$,E=d.$interleaved,S=d.$parser,L=S.length,R=E?E.length:0;if(e.sol()&&(n.$eol$&&(n.$blank$&&(n.bline=n.line),n.$eol$=!1,n.line++),n.$blank$=n.bline+1===n.line),n.$actionerr$=!1,n.token=null,r=n.stack,i=n.line,s=e.pos,h=!1,g=!0,m=!1,k=!1,y=n.block?n.block.name:Zn,r.length&&qn===r[r.length-1].type&&e.sol()&&r.pop(),(!r.length||Ln!==r[r.length-1].type&&y!==r[r.length-1].name)&&e.spc()&&(g=!1,k=!0),w[_]=null,w[O]=v,w[q]=null,g)for(l=new G,u=0;g&&(r.length||L>u)&&!e.eol();){if(c=e.pos,f=r.length,R&&!n.block){for(a=0;R>a;a++)if(t=E[a],h=Y(t,e,n,l),!1!==h){g=!1;
break}if(!g)break}if(!r.length&&u>=L)break;if(t=r.length?r.pop():S[u++],h=Y(t,e,n,l),!1===h){if(t.status&cn){n.token=t,p(r,t.$id),e.nxt(!0)||(e.spc(),k=!0),m=!0,g=!1;break}}else{if(r.length>1&&e.eol()&&jn&r[r.length-1].type&&n.block&&n.block.name===r[r.length-1].name)for(a=r.length-2;a>=0&&wn===r[a].type;)o=r[a--],K(o,e,n,l),o.status&sn&&(n.$actionerr$=!0);else if(r.length&&wn===r[r.length-1].type)for(;r.length&&wn===r[r.length-1].type;)o=r.pop(),K(o,e,n,l),o.status&sn&&(n.$actionerr$=!0);if(!0!==h){g=!1;break}}}return g&&e.nxt(1),w[q]=e.cur(1),!1!==h?(h=b[h]||v,w[_]=t.name):m?(h=x,n.status&on&&U(n,i,s,i,e.pos,t)):h=v,w[O]=h,n.$eol$=e.eol(),n.$blank$=n.$blank$&&(k||n.$eol$),w},autocompletion:function(e,n){var t,o,l,r=e.stack,i={},s=D([e.token],[],i);for(n=n||0,t=r.length-1;t>=0;t--)if(o=r[t],l=o.type,Fn&l){if(s=D([o],s,i),0<o.min&&n<s.length)break}else if((Rn===l||Nn===l||Bn&l)&&(s=D([o],s,i),n<s.length))break;return s},tokenize:function(e,n){var t=this,o=[];if(e.eol())n.line++,n.$blank$&&n.bline++;else for(;!e.eol();)o.push(t.token(e,n));return o},parse:function(e,n){var t,o,r,i,s,u=this,a=(e||"").split(zt),c=a.length,p=null;if(n=n||tn,o=!!(n&on),r=!!(n&tn),t=new Q(0,n),t.$full_parse$=!0,l(function(e){a[e]+="\n"},0,c-2),r?p=l(n&ln?function(e,n){n._=n._.concat(u.tokenize(Z(a[e]),t,e))}:function(e,n){n._.push(u.tokenize(Z(a[e]),t,e))},0,c-1,{_:[]})._:l(function(e){var n=Z(a[e]);if(n.eol())t.line++,t.$blank$&&t.bline++;else for(;!n.eol();)u.token(n,t)},0,c-1),o&&t.queu&&t.queu.length)for(;t.queu.length;)i=t.queu.shift(),U(t,i[1],i[2],i[3],i[4],null,i[5]);return s=r&&o?{tokens:p,errors:t.err}:r?p:t.err,X(t),s},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){}}),Bt=k(Gt,{constructor:function(e,n){var t=this;Gt.call(t,e,"",""),t.$v$="content",t.DEF=n||t.$DEF,t.ERR=t.$ERR},tokenize:function(e,n){var o,l=this,r=[],i=[],s=null,u=function(e){return e.content},a=function(e){return l.$DEF===e.type?e.content:e};if(e.eol())n.line++,n.$blank$&&n.bline++;else for(;!e.eol();)o=l.token(e,n),n.$actionerr$?(i.length&&(r=r.concat(t(i,u))),r.push(o.content),i.length=0,s=null):(s!==o.name&&(i.length&&(r=r.concat(t(i,a))),i.length=0,s=o.name),i.push(o));return i.length&&(r=r.concat(t(i,a))),i.length=0,s=null,r}}),Ht=e.PrismGrammar={VERSION:"3.1.0",clone:r,extend:i,pre_process:P,parse:T,getMode:nn,Parser:Bt};return e.PrismGrammar});