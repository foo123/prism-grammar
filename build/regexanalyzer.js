/**
*
*   RegExAnalyzer
*   @version: 0.3
*
*   A simple Regular Expression Analyzer in JavaScript
*   https://github.com/foo123/regex-analyzer
*
**/!function(t,e,r,a,p){var s="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,h=s||"undefined"==typeof navigator?0:1,i="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,n=Array,l=n.prototype,g=function(){var t=null;if(s)return t=__filename,{path:__dirname,file:__filename};if(i)t=self.location.href;else if(h){var e;(e=document.getElementsByTagName("script"))&&e.length&&(t=e[e.length-1].src)}return t?{path:t.split("/").slice(0,-1).join("/"),file:t}:{path:null,file:null}},o=g(),f=function(t,e){if(s)return e;if("."==e.charAt(0)){t=t.split("/"),e=e.split("/");var r,a=0,p=0,h=e.length,i=t.length;for(r=0;h>r;r++)if(/^\.\./.test(e[r]))a++,p++;else{if(!/^\./.test(e[r]))break;p++}a=a>=i?0:i-a,e=t.slice(0,a).concat(e.slice(p)).join("/")}return e};r=r?[].concat(r):[];var u,c,y,d=r.length,S=new n(d),C=new n(d),x=new n(d),m=new n(d);for(u=0;d>u;u++)S[u]=r[u][0],C[u]=r[u][1],x[u]=/\.js$/i.test(C[u])?f(o.path,C[u]):f(o.path,C[u]+".js");if("object"==typeof module&&module.exports){if(p===module.exports[e]){for(u=0;d>u;u++)m[u]=module.exports[S[u]]||require(x[u])[S[u]];c=a.apply(t,m),module.exports[e]=c||1}}else if("function"==typeof define&&define.amd)define(["exports"].concat(C),function(r){if(p===r[e]){for(var s=l.slice.call(arguments,1),h=s.length,i=0;h>i;i++)m[i]=r[S[i]]||s[i];c=a.apply(t,m),r[e]=c||1}});else if(i){for(u=0;d>u;u++)self[S[u]]||importScripts(x[u]),m[u]=self[S[u]];c=a.apply(t,m),self[e]=c||1}else if(p===t[e]){var M=function(t,e){y=y||document.getElementsByTagName("head")[0];var r=0,a=document.createElement("script");a.type="text/javascript",a.language="javascript",a.src=t,a.onload=a.onreadystatechange=function(){r||a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(r=1,a.onload=a.onreadystatechange=null,y.removeChild(a),a=null,e&&e())},y.appendChild(a)},A=function(e,r,a){t[e]?a():M(r,a)},v=function(r){return function(){d>r&&(m[r]=t[S[r]]),++r<d?A(S[r],x[r],v(r)):(c=a.apply(t,m),t[e]=c||1)}};d?A(S[0],x[0],v(0)):(c=a.apply(t,m),t[e]=c||1)}}(this,"RegExAnalyzer",null,function(){var t={};return function(t){var e="\\",r=/^\{\s*(\d+)\s*,?\s*(\d+)?\s*\}/,a=/^u([0-9a-fA-F]{4})/,p=/^x([0-9a-fA-F]{2})/,s={".":"MatchAnyChar","|":"MatchEither","?":"MatchZeroOrOne","*":"MatchZeroOrMore","+":"MatchOneOrMore","^":"MatchStart",$:"MatchEnd","{":"StartRepeats","}":"EndRepeats","(":"StartGroup",")":"EndGroup","[":"StartCharGroup","]":"EndCharGroup"},h={"\\":"EscapeChar","/":"/",0:"NULChar",f:"FormFeed",n:"LineFeed",r:"CarriageReturn",t:"HorizontalTab",v:"VerticalTab",b:"MatchWordBoundary",B:"MatchNonWordBoundary",s:"MatchSpaceChar",S:"MatchNonSpaceChar",w:"MatchWordChar",W:"MatchNonWordChar",d:"MatchDigitChar",D:"MatchNonDigitChar"},i=Object.prototype.toString,n=function(t,e){if(e&&(e instanceof Array||"[object Array]"==i.call(e)))for(var r=0,a=e.length;a>r;r++)t[e[r]]=1;else for(var r in e)t[r]=1;return t},l=function(t,e){t&&(t instanceof Array||"[object Array]"==i.call(t))&&(e=t[1],t=t[0]);var r,a,p=t.charCodeAt(0),s=e.charCodeAt(0);if(s==p)return[String.fromCharCode(p)];for(a=[],r=p;s>=r;++r)a.push(String.fromCharCode(r));return a},g=function(t){var e,r,a,p,s,h,i={},o={};if("Alternation"==t.type)for(a=0,p=t.part.length;p>a;a++)s=g(t.part[a]),i=n(i,s.peek),o=n(o,s.negativepeek);else if("Group"==t.type)s=g(t.part),i=n(i,s.peek),o=n(o,s.negativepeek);else if("Sequence"==t.type){for(a=0,p=t.part.length,r=t.part[a],h=a>=p||!r||"Quantifier"!=r.type||!r.flags.MatchZeroOrMore&&!r.flags.MatchZeroOrOne&&"0"!=r.flags.MatchMinimum;!h;)s=g(r.part),i=n(i,s.peek),o=n(o,s.negativepeek),a++,r=t.part[a],h=a>=p||!r||"Quantifier"!=r.type||!r.flags.MatchZeroOrMore&&!r.flags.MatchZeroOrOne&&"0"!=r.flags.MatchMinimum;p>a&&(r=t.part[a],"Special"!=r.type||"^"!=r.part&&"$"!=r.part||(r=t.part[a+1]||null),r&&"Quantifier"==r.type&&(r=r.part),r&&(s=g(r),i=n(i,s.peek),o=n(o,s.negativepeek)))}else if("CharGroup"==t.type)for(e=t.flags.NotMatch?o:i,a=0,p=t.part.length;p>a;a++)r=t.part[a],"Chars"==r.type?e=n(e,r.part):"CharRange"==r.type?e=n(e,l(r.part)):"UnicodeChar"==r.type||"HexChar"==r.type?e[r.flags.Char]=1:"Special"==r.type&&("D"==r.part?t.flags.NotMatch?i["\\d"]=1:o["\\d"]=1:"W"==r.part?t.flags.NotMatch?i["\\w"]=1:o["\\W"]=1:"S"==r.part?t.flags.NotMatch?i["\\s"]=1:o["\\s"]=1:e["\\"+r.part]=1);else"String"==t.type?i[t.part.charAt(0)]=1:"Special"!=t.type||t.flags.MatchStart||t.flags.MatchEnd?("UnicodeChar"==t.type||"HexChar"==t.type)&&(i[t.flags.Char]=1):"D"==t.part?o["\\d"]=1:"W"==t.part?o["\\W"]=1:"S"==t.part?o["\\s"]=1:i["\\"+t.part]=1;return{peek:i,negativepeek:o}},o=function(t,e){t&&this.setRegex(t,e)};o.VERSION="0.3",o.getCharRange=l,o.prototype={constructor:o,VERSION:o.VERSION,regex:null,groupIndex:null,pos:null,flags:null,parts:null,getCharRange:o.getCharRange,getPeekChars:function(){var t,e,r,a,p=this.flags&&this.flags.i,h=g(this.parts);for(t in h){a={},r=h[t];for(e in r)"\\d"==e?(delete r[e],a=n(a,l("0","9"))):"\\s"==e?(delete r[e],a=n(a,["\f","\n","\r","	","","Â ","\u2028","\u2029"])):"\\w"==e?(delete r[e],a=n(a,["_"].concat(l("0","9")).concat(l("a","z")).concat(l("A","Z")))):"\\."==e?(delete r[e],a[s["."]]=1):"\\"!=e.charAt(0)&&p?(a[e.toLowerCase()]=1,a[e.toUpperCase()]=1):"\\"==e.charAt(0)&&delete r[e];h[t]=n(r,a)}return h},setRegex:function(t,e){if(t){this.flags={},e=e||"/";for(var r=t.toString(),a=r.length,p=r.charAt(a-1);e!=p;)this.flags[p]=1,r=r.substr(0,a-1),a=r.length,p=r.charAt(a-1);e==r.charAt(0)&&e==r.charAt(a-1)&&(r=r.substr(1,a-2)),this.regex=r}return this},analyze:function(){var t,i,n,l="",g=[],o=[],f=!1;for(this.pos=0,this.groupIndex=0;this.pos<this.regex.length;)if(t=this.regex.charAt(this.pos++),f=e==t?!0:!1,f&&(t=this.regex.charAt(this.pos++)),f)"u"==t?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),n=a.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,o.push({part:n[0],flags:{Char:String.fromCharCode(parseInt(n[1],16)),Code:n[1]},type:"UnicodeChar"})):"x"==t?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),n=p.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,o.push({part:n[0],flags:{Char:String.fromCharCode(parseInt(n[1],16)),Code:n[1]},type:"HexChar"})):h[t]&&"/"!=t?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),i={},i[h[t]]=1,o.push({part:t,flags:i,type:"Special"})):l+=t;else if("|"==t)l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),g.push({part:o,flags:{},type:"Sequence"}),o=[];else if("["==t)l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),o.push(this.chargroup());else if("("==t)l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),o.push(this.subgroup());else if("{"==t){l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),n=r.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,i={part:n[0],MatchMinimum:n[1],MatchMaximum:n[2]||"unlimited"},i[s[t]]=1,"?"==this.regex.charAt(this.pos)?(i.isGreedy=0,this.pos++):i.isGreedy=1;var u=o.pop();"String"==u.type&&u.part.length>1&&(o.push({part:u.part.slice(0,-1),flags:{},type:"String"}),u.part=u.part.slice(-1)),o.push({part:u,flags:i,type:"Quantifier"})}else if("*"==t||"+"==t||"?"==t){l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),i={},i[s[t]]=1,"?"==this.regex.charAt(this.pos)?(i.isGreedy=0,this.pos++):i.isGreedy=1;var u=o.pop();"String"==u.type&&u.part.length>1&&(o.push({part:u.part.slice(0,-1),flags:{},type:"String"}),u.part=u.part.slice(-1)),o.push({part:u,flags:i,type:"Quantifier"})}else s[t]?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),i={},i[s[t]]=1,o.push({part:t,flags:i,type:"Special"})):l+=t;return l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),g.length?(g.push({part:o,flags:{},type:"Sequence"}),o=[],i={},i[s["|"]]=1,this.parts={part:g,flags:i,type:"Alternation"}):this.parts={part:o,flags:{},type:"Sequence"},this},subgroup:function(){var t,i,n,l="",g=[],o=[],f={},u=!1,c=this.regex.substr(this.pos,2);for("?:"==c?(f.NotCaptured=1,this.pos+=2):"?="==c?(f.LookAhead=1,this.pos+=2):"?!"==c&&(f.NegativeLookAhead=1,this.pos+=2),f.GroupIndex=++this.groupIndex;this.pos<this.regex.length;)if(t=this.regex.charAt(this.pos++),u=e==t?!0:!1,u&&(t=this.regex.charAt(this.pos++)),u)"u"==t?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),n=a.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,o.push({part:n[0],flags:{Char:String.fromCharCode(parseInt(n[1],16)),Code:n[1]},type:"UnicodeChar"})):"x"==t?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),n=p.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,o.push({part:n[0],flags:{Char:String.fromCharCode(parseInt(n[1],16)),Code:n[1]},type:"HexChar"})):h[t]&&"/"!=t?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),i={},i[h[t]]=1,o.push({part:t,flags:i,type:"Special"})):l+=t;else{if(")"==t)return l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),g.length?(g.push({part:o,flags:{},type:"Sequence"}),o=[],i={},i[s["|"]]=1,{part:{part:g,flags:i,type:"Alternation"},flags:f,type:"Group"}):{part:{part:o,flags:{},type:"Sequence"},flags:f,type:"Group"};if("|"==t)l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),g.push({part:o,flags:{},type:"Sequence"}),o=[];else if("["==t)l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),o.push(this.chargroup());else if("("==t)l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),o.push(this.subgroup());else if("{"==t){l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),n=r.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,i={part:n[0],MatchMinimum:n[1],MatchMaximum:n[2]||"unlimited"},i[s[t]]=1,"?"==this.regex.charAt(this.pos)?(i.isGreedy=0,this.pos++):i.isGreedy=1;var y=o.pop();"String"==y.type&&y.part.length>1&&(o.push({part:y.part.slice(0,-1),flags:{},type:"String"}),y.part=y.part.slice(-1)),o.push({part:y,flags:i,type:"Quantifier"})}else if("*"==t||"+"==t||"?"==t){l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),i={},i[s[t]]=1,"?"==this.regex.charAt(this.pos)?(i.isGreedy=0,this.pos++):i.isGreedy=1;var y=o.pop();"String"==y.type&&y.part.length>1&&(o.push({part:y.part.slice(0,-1),flags:{},type:"String"}),y.part=y.part.slice(-1)),o.push({part:y,flags:i,type:"Quantifier"})}else s[t]?(l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),i={},i[s[t]]=1,o.push({part:t,flags:i,type:"Special"})):l+=t}return l.length&&(o.push({part:l,flags:{},type:"String"}),l=""),g.length?(g.push({part:o,flags:{},type:"Sequence"}),o=[],i={},i[s["|"]]=1,{part:{part:g,flags:i,type:"Alternation"},flags:f,type:"Group"}):{part:{part:o,flags:{},type:"Sequence"},flags:f,type:"Group"}},chargroup:function(){var t,r,s,i,n,l,g=[],o=[],f={},u=!1,c=!1;for("^"==this.regex.charAt(this.pos)&&(f.NotMatch=1,this.pos++);this.pos<this.regex.length;)if(l=!1,s=r,r=this.regex.charAt(this.pos++),c=e==r?!0:!1,c&&(r=this.regex.charAt(this.pos++)),c&&("u"==r?(n=a.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,r=String.fromCharCode(parseInt(n[1],16)),l=!0):"x"==r&&(n=p.exec(this.regex.substr(this.pos-1)),this.pos+=n[0].length-1,r=String.fromCharCode(parseInt(n[1],16)),l=!0)),u)o.length&&(g.push({part:o,flags:{},type:"Chars"}),o=[]),i[1]=r,u=!1,g.push({part:i,flags:{},type:"CharRange"});else if(c)!l&&h[r]&&"/"!=r?(o.length&&(g.push({part:o,flags:{},type:"Chars"}),o=[]),t={},t[h[r]]=1,g.push({part:r,flags:t,type:"Special"})):o.push(r);else{if("]"==r)return o.length&&(g.push({part:o,flags:{},type:"Chars"}),o=[]),{part:g,flags:f,type:"CharGroup"};"-"==r?(i=[s,""],o.pop(),u=!0):o.push(r)}return o.length&&(g.push({part:o,flags:{},type:"Chars"}),o=[]),{part:g,flags:f,type:"CharGroup"}}},t.RegExAnalyzer=o}(t),t.RegExAnalyzer});